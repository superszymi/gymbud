{"version":3,"sources":["redux/user/user-action-types.js","redux/user/user-reducer.js","redux/chosen-exercises/chosen-exercises-action-types.js","redux/chosen-exercises/chosen-exercises.utils.js","redux/chosen-exercises/chosen-exercises-reducer.js","redux/atlas/atlas-action-types.js","redux/atlas/atlas-reducer.js","redux/workout-templates/workout-templates-action-types.js","redux/workout-templates/workout-templates-reducer.js","redux/current-workout/current-workout-action-types.js","redux/current-workout/current-workout-reducer.js","redux/workouts/workouts-action-types.js","redux/workouts/workouts-reducer.js","redux/root-reducer.js","redux/store.js","firebase/firebase.utils.js","redux/user/user-selectors.js","components/with-loading/with-loading.component.jsx","assets/muscles.svg","redux/chosen-exercises/chosen-exercises-actions.js","redux/chosen-exercises/chosen-exercises-selectors.js","assets/dumbbell.svg","components/chosen-exercises-icon/chosen-exercises-icon.component.jsx","components/custom-button/custom-button.component.jsx","components/chosen-exercise-item/chosen-exercise-item.component.jsx","components/chosen-exercises-dropdown/chosen-exercises-dropdown.component.jsx","components/header-dropdown/header-dropdown.component.jsx","components/header/header.component.jsx","pages/homepage/homepage.component.jsx","components/atlas-category-item/atlas-category-item.component.jsx","redux/atlas/atlas-selectors.js","components/atlas-overview/atlas-overview.component.jsx","components/atlas-exercise-item/atlas-exercise-item.component.jsx","components/atlas-category/atlas-category.component.jsx","components/form-input/form-input.component.jsx","redux/current-workout/current-workout-actions.js","components/workout-completed/workout-completed.component.jsx","components/review-template-item/review-template-item.component.jsx","components/review-template/review-template.component.jsx","pages/exercise-atlas/exercise-atlas.component.jsx","redux/atlas/atlas-actions.js","components/sign-in/sign-in.component.jsx","components/sign-up/sign-up.component.jsx","pages/sign-in-sign-up/sign-in-sign-up.component.jsx","redux/workout-templates/workout-templates-actions.js","components/start-workout-item/start-workout-item.component.jsx","redux/workout-templates/workout-templates-selectors.js","components/start-workout-overview/start-workout-overview.component.jsx","components/workout-set/workout-set.component.jsx","components/aerobic-exercise/aerobic-exercise.component.jsx","components/workout-exercise/workout-exercise.component.jsx","redux/current-workout/current-workout-selectors.js","components/workout-in-progress/workout-in-progress.component.jsx","pages/start-workout/start-workout.component.jsx","pages/dashboard/dashboard.component.jsx","components/workout-item/workout-item.component.jsx","redux/workouts/workouts-actions.js","redux/workouts/workouts-selectors.js","components/workout-list/workout-list.component.jsx","components/workout-details/workout-details.component.jsx","pages/workouts/workouts.component.jsx","components/template-item/template-item.component.jsx","components/templates-overview/templates-overview.component.jsx","pages/templates/templates.component.jsx","App.js","redux/user/user-actions.js","serviceWorker.js","index.js"],"names":["UserActionTypes","INITIAL_STATE","currentUser","userReducer","state","action","type","payload","ChosenExercisesActionTypes","addExerciseToChosenExercises","chosenExercises","exerciseToAdd","find","exercise","id","map","sets","removeExerciseSetFromChosenExercises","exerciseToRemove","filter","workoutName","hidden","exercises","chosenExercisesReducer","length","AtlasActionTypes","categories","atlasReducer","WorkoutTemplatesActionTypes","workoutTemplates","workoutTemplatesReducer","Object","keys","key","template","CurrentWorkoutActionTypes","currentWorkout","currentWorkoutReducer","WorkoutsActionTypes","workouts","workoutsReducer","workout","transformCircular","createTransform","inboundState","Flatted","stringify","outboundState","parse","persistConfig","storage","whitelist","transforms","rootReducer","combineReducers","user","atlas","persistReducer","store","createStore","applyMiddleware","persistor","persistStore","createUserProfileDocument","userAuth","otherData","a","async","userRef","firestore","doc","uid","get","exists","displayName","email","createdAt","Date","set","console","log","updateDocumentInCollection","collectionKey","objectToUpdate","collectionRef","collection","docRef","addDocumentToCollection","objectsToAdd","newDocRef","convertTemplatesSnapshotToMap","templates","docs","data","reduce","accumulator","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","provider","GoogleAuthProvider","setCustomParameters","prompt","selectCurrentUser","createSelector","WithLoading","WrappedComponent","isLoading","props","className","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref3","_ref","svgRef","title","enableBackground","height","viewBox","width","ref","ForwardRef","forwardRef","toggleDropdownHidden","hideDropdown","addExerciseSet","clearWorkout","updateExercises","selectChosenExercises","selectChosenExercisesItems","selectChosenExercisesWorkoutName","selectChosenExercisesCount","selectChosenExercisesSetCount","currentObject","selectChosenExercisesId","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","x","y","style","xmlSpace","connect","exerciseCount","dispatch","onClick","CustomButton","children","inverted","isGoogleSignIn","otherProps","ChosenExerciseItem","name","compose","withRouter","history","location","offset","index","push","to","signOut","Header","handleResize","setState","window","innerWidth","showItems","toggleItems","addEventListener","prevProps","removeEventListener","pathname","includes","React","Component","match","routeName","url","toUpperCase","selectCategories","selectCategoriesMap","goBack","addExercise","difficulty","slice","category","params","FormInput","handleChange","label","onChange","value","clearCurrentWorkout","isCurrent","clearExercise","removeExerciseSet","onDelete","ReviewTemplate","event","deleteExercise","exerciseToDelete","addExercises","saveAndStart","addWorkoutTemplate","saveAndBack","discardAndBack","handleSubmit","preventDefault","noExercises","start","totalExercises","totalSets","onSubmit","required","form","AtlasOverviewWithLoading","AtlasOverview","AtlasCategoryWithLoading","AtlasCategory","ReviewTemplateWithLoading","ExerciseAtlasPage","loading","unsubscribeFromSnapshot","updateAtlas","then","snapshot","collectionMap","encodeURI","toLowerCase","exact","path","render","SignIn","password","signInWithEmailAndPassword","signInWithPopup","catch","onSignIn","SignUp","confirmPassword","alert","createUserWithEmailAndPassword","SignInSignUpPage","signingIn","arg","updateTemplates","selectWorkoutTemplatesItems","selectWorkoutTemplatesMap","WorkoutSet","reps","weight","AerobicExercise","averageHeartRate","duration","WorkoutExercise","toggleExpand","expanded","updateCompletedSets","completed","forEach","element","update","setsCompleted","$set","handleSetChange","handleAerobicChange","selectCurrentWorkoutItem","WorkoutInProgress","tick","seconds","minutes","hours","toggleTimer","timerRunning","clearInterval","interval","setInterval","completeWorkout","time","handleExerciseChange","updateCurrentWorkout","workoutTemplate","workoutToAdd","Array","fill","date","templateName","StartWorkoutOverviewWithLoading","StartWorkoutOverview","WorkoutInProgressWithLoading","StartWorkoutPage","templatesRef","where","templatesMap","WorkoutItem","deleteWorkout","delete","handleWorkoutDelete","toDate","toLocaleString","substring","parseInt","updateWorkouts","selectWorkoutsItems","selectWorkoutsMap","WorkoutList","WorkoutDetails","saveWorkout","updateWorkoutById","updated","workoutId","WorkoutListWithLoading","WorkoutDetailsWithLoading","WorkoutsPage","workoutsRef","orderBy","workoutsMap","TemplateItem","deleteTemplate","handleTemplateDelete","TemplatesOverview","TemplatesOverviewWithLoading","TemplatesPage","DashboardPageWithLoading","DashboardPage","SignInSignUpPageWithLoading","HomepageWithLoading","Homepage","App","signInLoading","unsubscribeFromAuth","setCurrentUser","onAuthStateChanged","onSnapshot","component","loadSignIn","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","document","getElementById","URL","process","href","origin","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.22737741.chunk.js","sourcesContent":["export const UserActionTypes = {\r\n    SET_CURRENT_USER: 'SET_CURRENT_USER'\r\n}","import { UserActionTypes } from './user-action-types';\r\n\r\nconst INITIAL_STATE = {\r\n    currentUser: null\r\n}\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case UserActionTypes.SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport default userReducer;","export const ChosenExercisesActionTypes = {\r\n    TOGGLE_DROPDOWN_HIDDEN: 'TOGGLE_DROPDOWN_HIDDEN',\r\n    HIDE_DROPDOWN: 'HIDE_DROPDOWN',\r\n    ADD_EXERCISE_SET: 'ADD_EXERCISE_SET',\r\n    ADD_EXERCISE: 'ADD_EXERCISE',\r\n    CLEAR_EXERCISE: 'CLEAR_EXERCISE',\r\n    REMOVE_EXERCISE_SET: 'REMOVE_EXERCISE_SET',\r\n    CLEAR_WORKOUT: 'CLEAR_WORKOUT',\r\n    UPDATE_EXERCISES: 'UPDATE_EXERCISES'\r\n}","export const addExerciseToChosenExercises = (chosenExercises, exerciseToAdd) => {\r\n    const existingExercise = chosenExercises.find(exercise => exercise.id === exerciseToAdd.id)\r\n    if(existingExercise) {\r\n        return chosenExercises.map(exercise => \r\n            exercise.id === exerciseToAdd.id ? \r\n            { ...exercise, sets: exercise.sets + 1 } :\r\n            exercise)\r\n    }\r\n\r\n    return [...chosenExercises, { ...exerciseToAdd, sets: 1}];\r\n}\r\n\r\nexport const removeExerciseSetFromChosenExercises = (chosenExercises, exerciseToRemove) => {\r\n    const existingExercise = chosenExercises.find(exercise => exercise.id === exerciseToRemove.id)\r\n    if(existingExercise.sets === 1) {\r\n        return chosenExercises.filter(exercise => exercise.id !== exerciseToRemove.id)\r\n    }\r\n\r\n    return chosenExercises.map(exercise =>\r\n        exercise.id === exerciseToRemove.id ?\r\n        { ...exercise, sets: exercise.sets - 1} :\r\n        exercise);\r\n}","import { ChosenExercisesActionTypes } from './chosen-exercises-action-types';\r\nimport { addExerciseToChosenExercises, removeExerciseSetFromChosenExercises } from './chosen-exercises.utils';\r\n\r\nconst INITIAL_STATE = {\r\n    workoutName: '',\r\n    id: '',\r\n    hidden: true,\r\n    exercises: []\r\n}\r\n\r\nconst chosenExercisesReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case ChosenExercisesActionTypes.TOGGLE_DROPDOWN_HIDDEN:\r\n            return {\r\n                ...state,\r\n                hidden: !state.hidden\r\n            }\r\n        case ChosenExercisesActionTypes.HIDE_DROPDOWN:\r\n            return {\r\n                ...state,\r\n                hidden: true\r\n            }\r\n        case ChosenExercisesActionTypes.ADD_EXERCISE_SET:\r\n            return {\r\n                ...state,\r\n                exercises: addExerciseToChosenExercises(state.exercises, action.payload),\r\n                hidden: state.exercises.length ? state.hidden : false\r\n            }\r\n        case ChosenExercisesActionTypes.ADD_EXERCISE:\r\n            return {\r\n                ...state,\r\n                exercises: [...state.exercises, {...action.payload}],\r\n                hidden: state.exercises.length ? state.hidden : false\r\n            }\r\n        case ChosenExercisesActionTypes.CLEAR_EXERCISE:\r\n            return {\r\n                ...state,\r\n                exercises: state.exercises.filter(exercise => exercise !== action.payload)\r\n            }\r\n        case ChosenExercisesActionTypes.REMOVE_EXERCISE_SET:\r\n            return {\r\n                ...state,\r\n                exercises: removeExerciseSetFromChosenExercises(state.exercises, action.payload)\r\n            }\r\n        case ChosenExercisesActionTypes.CLEAR_WORKOUT:\r\n            return {\r\n                ...state,\r\n                workoutName: '',\r\n                id: '',\r\n                exercises: []\r\n            }\r\n        case ChosenExercisesActionTypes.UPDATE_EXERCISES:\r\n            return {\r\n                ...state,\r\n                exercises: action.payload.exercises,\r\n                workoutName: action.payload.workoutName,\r\n                id: action.payload.id\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default chosenExercisesReducer;","export const AtlasActionTypes = {\r\n    UPDATE_ATLAS: 'UPDATE_ATLAS'\r\n}","import { AtlasActionTypes } from './atlas-action-types';\r\n\r\nconst INITIAL_STATE = {\r\n    categories: null\r\n} \r\n\r\nconst atlasReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case AtlasActionTypes.UPDATE_ATLAS:\r\n            return {\r\n                ...state,\r\n                categories: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default atlasReducer;","export const WorkoutTemplatesActionTypes = {\r\n    UPDATE_TEMPLATES: 'UPDATE_TEMPLATES',\r\n    UPDATE_TEMPLATE_BY_ID: 'UPDATE_TEMPLATE_BY_ID'\r\n}","import { WorkoutTemplatesActionTypes } from './workout-templates-action-types';\r\n\r\nconst INITIAL_STATE = {\r\n    workoutTemplates: []\r\n}\r\n\r\nconst workoutTemplatesReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case WorkoutTemplatesActionTypes.UPDATE_TEMPLATES:\r\n            return {\r\n                ...state,\r\n                workoutTemplates: action.payload\r\n            }\r\n        case WorkoutTemplatesActionTypes.UPDATE_TEMPLATE_BY_ID:\r\n            return {\r\n                workoutTemplates: Object.keys(state.workoutTemplates).map(key =>\r\n                    state.workoutTemplates[key]).map(template => template.id === action.payload.id ? action.payload : template)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default workoutTemplatesReducer;","export const CurrentWorkoutActionTypes = {\r\n    UPDATE_CURRENT_WORKOUT: 'UPDATE_CURRENT_WORKOUT',\r\n    CLEAR_CURRENT_WORKOUT: 'CLEAR_CURENT_WORKOUT'\r\n}","import { CurrentWorkoutActionTypes } from './current-workout-action-types';\r\n\r\nconst INITIAL_STATE = {\r\n    currentWorkout: null\r\n}\r\n\r\nconst currentWorkoutReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case CurrentWorkoutActionTypes.UPDATE_CURRENT_WORKOUT:\r\n            return {\r\n                currentWorkout: action.payload\r\n            }\r\n        case CurrentWorkoutActionTypes.CLEAR_CURRENT_WORKOUT:\r\n            return {\r\n                currentWorkout: null\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default currentWorkoutReducer;","export const WorkoutsActionTypes = {\r\n    UPDATE_WORKOUTS: 'UPDATE_WORKOUTS',\r\n    UPDATE_WORKOUT_BY_ID: 'UPDATE_WORKOUT_BY_ID'\r\n}","import { WorkoutsActionTypes } from './workouts-action-types';\r\n\r\nconst INITIAL_STATE = {\r\n    workouts: []\r\n}\r\n\r\nconst workoutsReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case WorkoutsActionTypes.UPDATE_WORKOUTS:\r\n            return {\r\n                ...state,\r\n                workouts: action.payload\r\n            }\r\n        case WorkoutsActionTypes.UPDATE_WORKOUT_BY_ID:\r\n            return {\r\n                workouts: Object.keys(state.workouts).map(key =>\r\n                    state.workouts[key]).map(workout => workout.id === action.payload.id ? action.payload : workout)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default workoutsReducer;","import { combineReducers } from 'redux';\r\nimport { persistReducer, createTransform } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport Flatted from 'flatted';\r\n\r\nimport userReducer from './user/user-reducer';\r\nimport chosenExercisesReducer from './chosen-exercises/chosen-exercises-reducer';\r\nimport atlasReducer from './atlas/atlas-reducer';\r\nimport workoutTemplatesReducer from './workout-templates/workout-templates-reducer';\r\nimport currentWorkoutReducer from './current-workout/current-workout-reducer';\r\nimport workoutsReducer from './workouts/workouts-reducer'; \r\n\r\nexport const transformCircular = createTransform(\r\n    (inboundState, key) => Flatted.stringify(inboundState),\r\n    (outboundState, key) => Flatted.parse(outboundState),\r\n)\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n    whitelist: ['chosenExercises', 'currentWorkout'],\r\n    transforms: [transformCircular]\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer,\r\n    chosenExercises: chosenExercisesReducer,\r\n    atlas: atlasReducer,\r\n    workoutTemplates: workoutTemplatesReducer,\r\n    currentWorkout: currentWorkoutReducer,\r\n    workouts: workoutsReducer\r\n});\r\n\r\nexport default persistReducer(persistConfig, rootReducer);","import { createStore, applyMiddleware } from 'redux';\r\nimport { persistStore } from 'redux-persist';\r\nimport logger from 'redux-logger';\r\n\r\nimport rootReducer from './root-reducer';\r\n\r\nconst middlewares = [];\r\n\r\nif(process.env.NODE_ENV === 'development') {\r\n    middlewares.push(logger);\r\n}\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyDflCBgvAKyAFLSIkRLk5qsSnf03YKtMO4\",\r\n    authDomain: \"gymbud-f0070.firebaseapp.com\",\r\n    databaseURL: \"https://gymbud-f0070.firebaseio.com\",\r\n    projectId: \"gymbud-f0070\",\r\n    storageBucket: \"gymbud-f0070.appspot.com\",\r\n    messagingSenderId: \"930682556594\",\r\n    appId: \"1:930682556594:web:cdc94bffa9532b43d579ab\"\r\n  };\r\n\r\n  export const createUserProfileDocument = async (userAuth, otherData) => {\r\n    if(!userAuth) return;\r\n\r\n    const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n\r\n    const userSnapshot = await userRef.get();\r\n\r\n    if(!userSnapshot.exists) {\r\n        const { displayName, email } = userAuth;\r\n        const createdAt = new Date();\r\n        \r\n        try {\r\n            await userRef.set({ displayName, email, createdAt, ...otherData});\r\n        } catch(error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    return userRef;\r\n  }\r\n\r\n  export const updateDocumentInCollection = async (collectionKey, objectToUpdate) => {\r\n    const collectionRef = firestore.collection(collectionKey);\r\n    const docRef = collectionRef.doc(objectToUpdate.id);\r\n\r\n    try {\r\n      await docRef.set(objectToUpdate);\r\n    } catch(error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  export const addDocumentToCollection = async (collectionKey, objectsToAdd) => {\r\n        const collectionRef = firestore.collection(collectionKey);\r\n\r\n        const newDocRef = collectionRef.doc();\r\n\r\n        try {\r\n            await newDocRef.set(objectsToAdd);\r\n        } catch(error) {\r\n            console.log(error);\r\n        }\r\n  }\r\n\r\n  export const addCollectionAndDocuments = (collectionKey, objects) => {\r\n    const collectionRef = firestore.collection(collectionKey);\r\n    const batch = firestore.batch();\r\n\r\n    objects.forEach(obj => {\r\n      const newDocRef = collectionRef.doc();\r\n      batch.set(newDocRef, obj);\r\n    });\r\n\r\n    batch.commit();\r\n  }\r\n\r\n  export const convertAtlasSnapshotToMap = (atlas) => {\r\n    const transformedAtlas = atlas.docs.map(doc => {\r\n        const { title, exercises } = doc.data();\r\n        return {\r\n            routeName: encodeURI(title.toLowerCase()),\r\n            id: doc.id,\r\n            title,\r\n            exercises\r\n        };\r\n    });\r\n    return transformedAtlas.reduce((accumulator, category) => {\r\n      accumulator[category.title.toLowerCase()] = category;\r\n      return accumulator;\r\n    }, {});\r\n  }\r\n\r\n  export const convertTemplatesSnapshotToMap = (templates) => {\r\n    const transformedTemplates = templates.docs.map(doc => {\r\n      const { workoutName, exercises, user } = doc.data();\r\n      return {\r\n        id: doc.id,\r\n        user,\r\n        workoutName,\r\n        exercises\r\n      };\r\n    });\r\n    return transformedTemplates.reduce((accumulator, template) => {\r\n      accumulator[template.id] = template;\r\n      return accumulator;\r\n    }, {});\r\n  }\r\n\r\n  export const convertWorkoutsSnapshotToMap = workouts => {\r\n    const transformedWorkouts = workouts.docs.map(doc => {\r\n      const { workoutName, date, time, exercises, user } = doc.data();\r\n      return {\r\n        id: doc.id,\r\n        workoutName,\r\n        date,\r\n        time,\r\n        exercises,\r\n        user\r\n      };\r\n    });\r\n    return transformedWorkouts.reduce((accumulator, workout) => {\r\n      accumulator[workout.id] = workout;\r\n      return accumulator;\r\n    }, {});\r\n  }\r\n\r\n  firebase.initializeApp(config);\r\n\r\n  export const auth = firebase.auth();\r\n\r\n  export const firestore = firebase.firestore();\r\n\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n  provider.setCustomParameters({ prompt: 'select_account' });\r\n\r\n  export const signInWithGoogle = () => auth.signInWithPopup(provider);\r\n\r\n  export default firebase;","import { createSelector } from 'reselect';\r\n\r\nconst selectUser = state => state.user;\r\n\r\nexport const selectCurrentUser = createSelector(\r\n    [selectUser],\r\n    user => user.currentUser\r\n);","import React from 'react';\r\n\r\nimport './with-loading.styles.scss';\r\n\r\nconst WithLoading = WrappedComponent => {\r\n    const Loading = ({ isLoading, ...props }) => {\r\n        return isLoading ? (\r\n            <div className='lds-container'>\r\n                <div className=\"lds-ellipsis\">\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n            \r\n        ) : (\r\n            <WrappedComponent {...props} />\r\n        );\r\n    }\r\n    return Loading;\r\n}\r\n\r\nexport default WithLoading;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m371.303 225.613c-37.648-.139-73.087 14.435-99.758 41.014-2.266 2.258-4.444 4.579-6.536 6.96-20.378-14.021-44.622-21.608-69.729-21.608-23.198 0-45.763 6.597-65.139 18.657v-117.56h87.604v-78.571c.001-41.082-33.422-74.505-74.504-74.505h-97.833l-3.36 10.381c-38.443 118.774-58.75 311.268-23.18 449.367l1.938 7.521 7.261 2.759c67.445 25.625 144.18 39.616 228.074 41.586 6.563.154 13.151.23 19.784.23 73.155-.001 150.186-9.347 224.039-27.26l11.465-2.78v-114.206c0-78.023-62.86-141.717-140.126-141.985zm110.126 232.523c-155.617 35.725-313.152 30.876-435.386-13.434-30.567-127.985-13.003-301.718 21.294-414.702h75.904c23.821 0 43.327 18.812 44.45 42.36h-37.789v-17.638h-30v47.638h67.843v20.716h-87.604v218.273l26.109-28.778c17.639-19.442 42.799-30.593 69.03-30.593 18.874 0 37.095 5.66 52.435 16.127-11.446 20.608-17.53 43.897-17.53 68.129h30.001c0-29.621 11.555-57.449 32.536-78.358 20.889-20.816 48.603-32.264 78.083-32.264.131 0 .265 0 .395.001 60.78.21 110.229 50.446 110.229 111.984z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m329.251 189.924h84.003v-59.883h47.683l-89.685-105.111-89.684 105.11h47.683zm42.001-118.774 24.651 28.891h-12.649v59.883h-24.003v-59.883h-12.649z\"\n});\n\nvar SvgMuscles = function SvgMuscles(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    enableBackground: \"new 0 0 511.845 511.845\",\n    height: 60,\n    viewBox: \"0 0 511.845 511.845\",\n    width: 60,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMuscles, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/muscles.91015352.svg\";\nexport { ForwardRef as ReactComponent };","import { ChosenExercisesActionTypes } from './chosen-exercises-action-types';\r\n\r\nexport const toggleDropdownHidden = () => ({\r\n    type: ChosenExercisesActionTypes.TOGGLE_DROPDOWN_HIDDEN\r\n})\r\n\r\nexport const hideDropdown = () => ({\r\n    type: ChosenExercisesActionTypes.HIDE_DROPDOWN\r\n})\r\n\r\nexport const addExerciseSet = exercise => ({\r\n    type: ChosenExercisesActionTypes.ADD_EXERCISE_SET,\r\n    payload: exercise\r\n})\r\n\r\nexport const addExercise = exercise => ({\r\n    type: ChosenExercisesActionTypes.ADD_EXERCISE,\r\n    payload: exercise\r\n})\r\n\r\nexport const clearExercise = exercise => ({\r\n    type: ChosenExercisesActionTypes.CLEAR_EXERCISE,\r\n    payload: exercise\r\n})\r\n\r\nexport const removeExerciseSet = exercise => ({\r\n    type: ChosenExercisesActionTypes.REMOVE_EXERCISE_SET,\r\n    payload: exercise\r\n})\r\n\r\nexport const clearWorkout = () => ({\r\n    type: ChosenExercisesActionTypes.CLEAR_WORKOUT\r\n})\r\n\r\nexport const updateExercises = exercises => ({\r\n    type: ChosenExercisesActionTypes.UPDATE_EXERCISES,\r\n    payload: exercises\r\n})","import { createSelector } from 'reselect';\r\n\r\nconst selectChosenExercises = state => state.chosenExercises;\r\n\r\nexport const selectChosenExercisesItems = createSelector(\r\n    [selectChosenExercises],\r\n    chosenExercises => chosenExercises.exercises\r\n)\r\n\r\nexport const selectChosenExercisesWorkoutName = createSelector(\r\n    [selectChosenExercises],\r\n    chosenExercises => chosenExercises.workoutName\r\n)\r\n\r\nexport const selectChosenExercisesCount = createSelector(\r\n    [selectChosenExercisesItems],\r\n    exercises => exercises.length\r\n)\r\n\r\nexport const selectChosenExercisesSetCount = createSelector(\r\n    [selectChosenExercisesItems],\r\n    exercises => exercises.reduce((accumulator, currentObject) => \r\n    currentObject.sets ? accumulator + currentObject.sets : accumulator, 0)\r\n)\r\n\r\nexport const selectChosenExercisesId = createSelector(\r\n    [selectChosenExercises],\r\n    exercises => exercises.id\r\n)","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M11.688,181.115c-0.641,0-1.281-0.245-1.768-0.732l-9.188-9.188c-0.943-0.943-0.979-2.459-0.084-3.447l13.332-14.699 l-9.001-9.001c-2.364-2.364-2.364-6.21,0-8.574l7.404-7.404c0.255-0.255,0.527-0.484,0.816-0.687l-4.397-4.397 c-2.363-2.364-2.363-6.209-0.001-8.573l10.66-10.659c1.146-1.146,2.668-1.776,4.287-1.776s3.142,0.631,4.287,1.776l17.536,17.536 l75.716-75.716l-17.536-17.536c-1.146-1.145-1.776-2.667-1.776-4.287s0.631-3.142,1.776-4.287l10.659-10.659 c1.146-1.146,2.668-1.776,4.287-1.776c1.618,0,3.141,0.63,4.286,1.775l4.398,4.399c0.201-0.288,0.43-0.562,0.686-0.818l7.404-7.404 c1.146-1.146,2.668-1.776,4.287-1.776s3.143,0.631,4.287,1.777l9.001,9l14.699-13.332c0.988-0.895,2.506-0.859,3.447,0.084 l9.188,9.188c0.943,0.943,0.979,2.459,0.084,3.447l-13.332,14.699l9.001,9.001c2.364,2.364,2.364,6.21,0,8.574l-7.404,7.404 c-0.255,0.255-0.527,0.484-0.816,0.687l4.397,4.397c2.363,2.364,2.363,6.209,0.001,8.573l-10.66,10.659 c-1.146,1.146-2.668,1.776-4.287,1.776s-3.142-0.631-4.287-1.776l-17.536-17.536l-75.716,75.716l17.536,17.536 c1.146,1.145,1.776,2.667,1.776,4.287s-0.631,3.142-1.776,4.287l-10.659,10.659c-1.146,1.146-2.668,1.776-4.287,1.776 c-1.618,0-3.141-0.63-4.286-1.775l-4.398-4.399c-0.201,0.288-0.43,0.562-0.686,0.818l-7.404,7.404 c-1.146,1.146-2.668,1.776-4.287,1.776s-3.143-0.631-4.287-1.777l-9.001-9l-14.699,13.332 C12.891,180.9,12.289,181.115,11.688,181.115z M5.951,169.342l5.821,5.821l12.755-11.568l-7.008-7.008L5.951,169.342z  M16.671,131.292c-0.164,0-0.48,0.04-0.752,0.311l-7.404,7.404c-0.414,0.415-0.414,1.089,0,1.503l32.09,32.089 c0.271,0.271,0.587,0.312,0.751,0.312s0.48-0.041,0.752-0.312l7.404-7.405c0.411-0.412,0.414-1.083,0.006-1.497l-32.096-32.096 C17.15,131.332,16.835,131.292,16.671,131.292z M42.103,149.214l19.563,19.563c0.271,0.271,0.587,0.311,0.751,0.311 c0.165,0,0.481-0.041,0.752-0.312l10.659-10.659c0.271-0.271,0.312-0.587,0.312-0.751s-0.041-0.48-0.312-0.751L24.5,107.287 c-0.271-0.271-0.587-0.311-0.751-0.311c-0.165,0-0.481,0.041-0.752,0.312l-10.659,10.659c-0.414,0.414-0.414,1.088,0.001,1.503 L42.103,149.214z M49.107,124.823l7.185,7.185l75.716-75.716l-7.185-7.185L49.107,124.823z M118.698,12.027 c-0.165,0-0.481,0.041-0.752,0.312l-10.659,10.659c-0.271,0.271-0.312,0.587-0.312,0.751s0.041,0.48,0.312,0.751l49.328,49.328 c0.271,0.271,0.587,0.311,0.751,0.311c0.165,0,0.481-0.041,0.752-0.312l10.659-10.659c0.414-0.414,0.414-1.088-0.001-1.503 l-49.327-49.328C119.179,12.068,118.862,12.027,118.698,12.027z M142.547,28.365l21.146,21.146c0.271,0.271,0.587,0.312,0.751,0.312 s0.48-0.041,0.752-0.312l7.404-7.404c0.414-0.415,0.414-1.089,0-1.503l-32.09-32.089c-0.271-0.271-0.587-0.312-0.751-0.312 s-0.48,0.041-0.752,0.312l-7.404,7.405c-0.411,0.412-0.414,1.083-0.006,1.497L142.547,28.365z M156.588,17.52l7.008,7.008 l11.568-12.755l-5.821-5.821L156.588,17.52z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgDumbbell = function SvgDumbbell(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 181.115 181.115\",\n    style: {\n      enableBackground: \"new 0 0 181.115 181.115\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDumbbell, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dumbbell.204491ea.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { toggleDropdownHidden } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\nimport { selectChosenExercisesCount } from '../../redux/chosen-exercises/chosen-exercises-selectors';\r\n\r\nimport { ReactComponent as ExercisesIcon } from '../../assets/dumbbell.svg';\r\n\r\nimport './chosen-exercises-icon.styles.scss';\r\n\r\nconst ChosenExercisesIcon = ({ toggleDropdownHidden, exerciseCount }) => (\r\n    <div className='chosen-exercises-icon' onClick={toggleDropdownHidden}>\r\n        <ExercisesIcon className='exercises-icon' />\r\n        <span className='exercise-count'>{exerciseCount}</span>\r\n    </div>\r\n);\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    toggleDropdownHidden: () => dispatch(toggleDropdownHidden())\r\n})\r\n\r\nconst mapStateToProps = state => ({\r\n    exerciseCount: selectChosenExercisesCount(state)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ChosenExercisesIcon);","import React from 'react';\r\n\r\nimport './custom-button.styles.scss';\r\n\r\nconst CustomButton = ({ children, inverted, isGoogleSignIn, ...otherProps }) => (\r\n  <button className={`${isGoogleSignIn ? 'google-sign-in' : ''} ${inverted ? 'inverted' : ''} custom-button`}\r\n  {...otherProps}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nexport default CustomButton;","import React from 'react'\r\n\r\nimport './chosen-exercise-item.styles.scss';\r\n\r\nconst ChosenExerciseItem = ({ exercise: { name, sets, type } }) => (\r\n    <div className='chosen-exercise-item'>\r\n        <p className='name'>{name}</p>\r\n        {\r\n            type !== 'aerobic' ? \r\n                <p className='set-count'>{sets} {\r\n                    sets === 1 ? 'set' : 'sets'\r\n                }\r\n                </p> : ''\r\n        }\r\n        \r\n    </div>\r\n)\r\n\r\nexport default ChosenExerciseItem;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport ChosenExerciseItem from '../chosen-exercise-item/chosen-exercise-item.component';\r\n\r\nimport { toggleDropdownHidden, clearWorkout } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\nimport { selectChosenExercisesItems } from '../../redux/chosen-exercises/chosen-exercises-selectors';\r\n\r\nimport './chosen-exercises-dropdown.styles.scss';\r\n\r\nconst ChosenExercisesDropdown = ({ exercises, history, location, dispatch, offset }) => (\r\n    <div className={`${offset ? 'offset' : ''} chosen-exercises-dropdown`}>\r\n        <div className='exercises'>\r\n            {\r\n                exercises.length ? \r\n                exercises.map((exercise, index) => <ChosenExerciseItem key={exercise.type === 'aerobic' ? exercise.id + index : exercise.id} exercise={exercise} />)\r\n                : <span>Add exercises from atlas</span>\r\n            }\r\n        </div>\r\n        <CustomButton onClick={() => {\r\n            dispatch(toggleDropdownHidden());\r\n            history.push(\"/atlas/review-template\")\r\n            }}>PROCEED\r\n        </CustomButton>\r\n        <CustomButton inverted onClick={() => {\r\n            dispatch(clearWorkout());\r\n            dispatch(toggleDropdownHidden());\r\n            }}>CLEAR\r\n        </CustomButton>\r\n    </div>\r\n)\r\n\r\nconst mapStateToProps = state => ({\r\n    exercises: selectChosenExercisesItems(state)\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps)\r\n    )(ChosenExercisesDropdown);","import React from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { auth } from '../../firebase/firebase.utils';\r\n\r\nimport './header-dropdown.styles.scss';\r\n\r\nconst HeaderDropdown = ({ history, location, currentUser, clearWorkout }) => (\r\n    <div className='header-dropdown'>\r\n        { currentUser ? (\r\n            <div className='dropdown-content'>\r\n                <Link className='dropdown-option' to='/dashboard'>\r\n                    DASHBOARD\r\n                </Link>\r\n                <Link className='dropdown-option' to='/workouts'>\r\n                    WORKOUTS\r\n                </Link>\r\n                <Link className='dropdown-option' to='/templates'>\r\n                    TEMPLATES\r\n                </Link>\r\n                <div className='dropdown-option' onClick={() => {\r\n                    clearWorkout();\r\n                    history.push('/atlas');\r\n                }}>\r\n                    NEW TEMPLATE\r\n                </div>\r\n                <Link className='dropdown-option' to='/start-workout'>\r\n                    START WORKOUT\r\n                </Link>\r\n                <div className='dropdown-option' onClick={async () =>  {await auth.signOut(); history.push('/');}}>SIGN OUT</div>\r\n            </div>\r\n        ) : <div className='dropdown-content'>\r\n                <span>Log in to access your workouts</span>\r\n                <Link className='dropdown-option' to='/sign-in'>SIGN IN</Link>\r\n            </div>\r\n        }\r\n    </div>\r\n);\r\n\r\nexport default withRouter(HeaderDropdown);","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { ReactComponent as Logo } from '../../assets/muscles.svg';\r\nimport { auth } from '../../firebase/firebase.utils';\r\nimport { selectCurrentUser } from '../../redux/user/user-selectors';\r\nimport { clearWorkout, hideDropdown } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\n\r\nimport ChosenExercisesIcon from '../chosen-exercises-icon/chosen-exercises-icon.component';\r\nimport ChosenExercisesDropdown from '../chosen-exercises-dropdown/chosen-exercises-dropdown.component';\r\nimport HeaderDropdown from '../header-dropdown/header-dropdown.component';\r\n\r\nimport './header.styles.scss';\r\n\r\nclass Header extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            showItems: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.handleResize);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.location !== prevProps.location) {\r\n            this.setState({\r\n                showItems: false\r\n            })\r\n            this.props.hideDropdown();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.handleResize);\r\n    }\r\n\r\n    handleResize = () => {\r\n        this.setState({\r\n            width: window.innerWidth,\r\n            showItems: window.innerWidth >= 940 ? false : this.state.showItems\r\n        })\r\n    }\r\n\r\n    toggleItems = () => {\r\n        this.setState({\r\n            showItems: !this.state.showItems\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { currentUser, location, history, clearWorkout, hidden } = this.props;\r\n        return (\r\n            <div className='header'>\r\n                <Link className='logo-container' to='/'>\r\n                    <Logo className='header-logo'/>\r\n                </Link>\r\n                {\r\n                    this.state.width <= 940 ? \r\n                        <div className='options' >\r\n                            {\r\n                                location.pathname.includes('atlas') && !location.pathname.includes('review') ? <ChosenExercisesIcon /> : null\r\n                            }\r\n                            <span className='toggle-items-button' onClick={this.toggleItems}>&#8801;</span>\r\n                        </div>\r\n                        : \r\n                        <div className='options'>\r\n                        { currentUser ? (\r\n                            <div className='logged-in'>\r\n                                <Link className='option' to='/dashboard'>\r\n                                    DASHBOARD\r\n                                </Link>\r\n                                <Link className='option' to='/workouts'>\r\n                                    WORKOUTS\r\n                                </Link>\r\n                                <Link className='option' to='/templates'>\r\n                                    TEMPLATES\r\n                                </Link>\r\n                                <div className='option' onClick={() => {\r\n                                    clearWorkout();\r\n                                    history.push('/atlas');\r\n                                }}>\r\n                                    NEW TEMPLATE\r\n                                </div>\r\n                                <Link className='option' to='/start-workout'>\r\n                                    START WORKOUT\r\n                                </Link>\r\n                                {\r\n                                    location.pathname.includes('atlas') && !location.pathname.includes('review') ? <ChosenExercisesIcon /> : null\r\n                                }\r\n                            </div>\r\n                        ) : null\r\n                        }\r\n                        {\r\n                            currentUser ? \r\n                            <div className='option' onClick={async () =>  {await auth.signOut(); history.push('/');}}>SIGN OUT</div>\r\n                            :\r\n                            <Link className='option' to='/sign-in'>SIGN IN</Link>\r\n                        }\r\n                    </div>\r\n                }\r\n                {\r\n                    this.state.showItems ? (<HeaderDropdown currentUser={currentUser} clearWorkout={clearWorkout} />) : null\r\n                }\r\n                {\r\n                    hidden ? null : (<ChosenExercisesDropdown offset={this.state.showItems} />)\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n    \r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    currentUser: selectCurrentUser(state),\r\n    hidden: state.chosenExercises.hidden\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    clearWorkout: () => dispatch(clearWorkout()),\r\n    hideDropdown: () => dispatch(hideDropdown())\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));","import React from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport CustomButton from '../../components/custom-button/custom-button.component';\r\n\r\nimport './homepage.styles.scss';\r\n\r\nexport const Homepage = ({ history }) => (\r\n    <div className='homepage'>\r\n        <div className='title'>\r\n            <h1>WELCOME TO GYMBUD</h1>\r\n            <h3>THE PROGRESSIVE WEB APP FOR MANAGING YOUR WORKOUTS!</h3>\r\n        </div>\r\n        <div className='actions'>\r\n            <h3>CREATE ACCOUNT OR SIGN IN</h3>\r\n            <CustomButton onClick={() => history.push('/sign-in')}>SIGN IN</CustomButton>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default withRouter(Homepage);","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport './atlas-category-item.styles.scss';\r\n\r\nconst AtlasCategoryItem = ({ title, history, match, routeName }) => (\r\n    <div className='category-item' onClick={() => history.push(`${match.url}/${routeName}`)}>\r\n        <div className='content'>\r\n            <h1 className='title'>{title.toUpperCase()}</h1>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(AtlasCategoryItem);","import { createSelector } from 'reselect';\r\n\r\nconst selectAtlas = state => state.atlas;\r\n\r\nconst selectCategories = createSelector(\r\n    [selectAtlas],\r\n    atlas => atlas.categories\r\n)\r\n\r\nexport const selectCategoriesMap = createSelector(\r\n    [selectCategories],\r\n    categories => categories ? Object.keys(categories).map(key => categories[key]) : []\r\n)\r\n\r\nexport const selectCategory = title => createSelector(\r\n    [selectCategoriesMap],\r\n    categories => categories ? categories.find(category => category.routeName === title) : null\r\n)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport AtlasCategoryItem from '../atlas-category-item/atlas-category-item.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport { selectCategoriesMap } from '../../redux/atlas/atlas-selectors';\r\n\r\nimport './atlas-overview.styles.scss';\r\n\r\nconst AtlasOverview = ({ categories, history }) => (\r\n    <div className='atlas-overview-container'>\r\n        <h1>Find your exercise</h1>\r\n        <h4>Choose a body part to view exercises that train it</h4>\r\n        <div className='atlas-overview'>\r\n            {\r\n                categories.map(({ id, ...otherProps }) => (\r\n                    <AtlasCategoryItem key={id} {...otherProps} />\r\n                ))\r\n            }\r\n        </div>\r\n        <div className='back-button-container'>\r\n            <CustomButton inverted onClick={() => history.goBack()}>BACK</CustomButton>\r\n        </div>\r\n    </div>\r\n    \r\n)\r\n\r\nconst mapStateToProps = state => ({\r\n    categories: selectCategoriesMap(state)\r\n})\r\n\r\nexport default connect(mapStateToProps)(AtlasOverview);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { addExerciseSet, addExercise } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\n\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport './atlas-exercise-item.styles.scss';\r\n\r\nconst AtlasExerciseItem = ({ exercise, addExerciseSet, addExercise }) => {\r\n    const { name, difficulty, type } = exercise;\r\n    if(type === 'weighted' || type === 'bodyweight') {\r\n        return(\r\n            <div className='exercise-item'>\r\n                <div className='content'>\r\n                    <h1 className='title'>{name[0].toUpperCase() + name.slice(1)}</h1>\r\n                    <CustomButton inverted onClick={() => addExerciseSet(exercise)}>ADD SET</CustomButton>\r\n                    <div className='footer'>Difficulty: {difficulty}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return(\r\n            <div className='exercise-item'>\r\n                <div className='content'>\r\n                    <h1 className='title'>{name[0].toUpperCase() + name.slice(1)}</h1>\r\n                    <CustomButton inverted onClick={() => addExercise(exercise)}>ADD</CustomButton>\r\n                    <div className='footer'>Difficulty: {difficulty}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    addExerciseSet: exercise => dispatch(addExerciseSet(exercise)),\r\n    addExercise: exercise => dispatch(addExercise(exercise))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(AtlasExerciseItem);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport AtlasExerciseItem from '../atlas-exercise-item/atlas-exercise-item.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport { selectCategory } from '../../redux/atlas/atlas-selectors';\r\n\r\nimport './atlas-category.styles.scss';\r\n\r\nconst AtlasCategory = ({ category, history }) => {\r\n    return (\r\n        <div className='atlas-category-container'>\r\n            <h1>{category.title[0].toUpperCase() + category.title.slice(1)} exercises</h1>\r\n            <h4>Click on the button in the exercise box to add a set of it to your workout template</h4>\r\n            <div className='atlas-category'>\r\n            {\r\n                category.exercises.map((exercise) => \r\n                <AtlasExerciseItem key={exercise.id} exercise={exercise} />)\r\n            }\r\n            </div>\r\n            <div className='back-button-container'>\r\n                <CustomButton inverted onClick={() => history.goBack()}>BACK</CustomButton>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n    category: selectCategory(props.match.params.title)(state)\r\n})\r\n\r\nexport default connect(mapStateToProps)(AtlasCategory);\r\n","import React from 'react';\r\n\r\nimport './form-input.styles.scss';\r\n\r\nconst FormInput = ({ handleChange, label, ...otherProps }) => (\r\n  <div className='group'>\r\n    <input className='form-input' onChange={handleChange} {...otherProps} />\r\n    {label ? (\r\n      <label\r\n        className={`${\r\n          otherProps.value.length ? 'shrink' : ''\r\n        } form-input-label`}\r\n      >\r\n        {label}\r\n      </label>\r\n    ) : null}\r\n  </div>\r\n);\r\n\r\nexport default FormInput;","import { CurrentWorkoutActionTypes } from './current-workout-action-types';\r\n\r\nexport const updateCurrentWorkout = workout => ({\r\n    type: CurrentWorkoutActionTypes.UPDATE_CURRENT_WORKOUT,\r\n    payload: workout\r\n})\r\n\r\nexport const clearCurrentWorkout = () => ({\r\n    type: CurrentWorkoutActionTypes.CLEAR_CURRENT_WORKOUT\r\n})","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { clearCurrentWorkout } from '../../redux/current-workout/current-workout-actions';\r\n\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport './workout-completed.styles.scss';\r\n\r\nconst WorkoutCompleted = ({ isCurrent, workoutName, history, clearCurrentWorkout }) => (\r\n    <div className='popup'>\r\n        <div className='popup-inner'>\r\n            <h1>{workoutName} SAVED!</h1>\r\n            <CustomButton onClick={() => {\r\n                    if(isCurrent) {\r\n                        clearCurrentWorkout();\r\n                        history.push('/dashboard');\r\n                    } else {\r\n                        history.push('/workouts');\r\n                    }\r\n                }}>Done</CustomButton>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    clearCurrentWorkout: () => dispatch(clearCurrentWorkout())\r\n})\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(WorkoutCompleted));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { clearExercise, addExerciseSet, removeExerciseSet } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\n\r\nimport './review-template-item.styles.scss';\r\n\r\nconst ReviewTemplateItem = ({ exercise, clearExercise, addExerciseSet, removeExerciseSet, onDelete }) => {\r\n    const { name, sets } = exercise;\r\n    return(\r\n        <div className='review-template-item'>\r\n            <span className='name'>{name}</span>\r\n            {\r\n                sets ? \r\n                    <span className='sets'>\r\n                        <div className='arrow' onClick={() => removeExerciseSet(exercise)}>&#10094;</div>\r\n                        <span className='value'>{sets}</span>\r\n                        <div className='arrow' onClick={() => addExerciseSet(exercise)}>&#10095;</div>\r\n                    </span> : <span className='sets'></span>\r\n            }\r\n            <div className='remove-button' onClick={() => clearExercise(exercise)}>&#10005;</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    clearExercise: exercise => dispatch(clearExercise(exercise)),\r\n    addExerciseSet: exercise => dispatch(addExerciseSet(exercise)),\r\n    removeExerciseSet: exercise => dispatch(removeExerciseSet(exercise))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(ReviewTemplateItem);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { firestore, addDocumentToCollection, updateDocumentInCollection } from '../../firebase/firebase.utils';\r\nimport { clearWorkout, updateExercises } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\nimport { selectChosenExercisesId, selectChosenExercisesItems, selectChosenExercisesWorkoutName, selectChosenExercisesCount, selectChosenExercisesSetCount } from '../../redux/chosen-exercises/chosen-exercises-selectors';\r\nimport { selectCurrentUser } from '../../redux/user/user-selectors';\r\n\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport WorkoutCompleted from '../workout-completed/workout-completed.component';\r\n\r\nimport ReviewTemplateItem from '../review-template-item/review-template-item.component';\r\n\r\nimport './review-template.styles.scss';\r\n\r\nclass ReviewTemplate extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: '',\r\n            workoutName: '',\r\n            exercises: null,\r\n            start: null,\r\n            noExercises: false\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if(props.exercises && props.exercises !== state.exercises) {\r\n            if(!state.workoutName) {\r\n                return props\r\n            }\r\n            return ({\r\n                exercises: props.exercises\r\n            })\r\n        }\r\n        return null;\r\n    }\r\n\r\n    handleChange = event => {\r\n        const { value, name } = event.target;\r\n        this.setState({ \r\n            [name]: value\r\n         });\r\n    };\r\n\r\n    deleteExercise = exerciseToDelete => {\r\n        this.setState({\r\n            exercises: this.state.exercises.filter(exercise => exercise.id === exerciseToDelete.id)\r\n        })\r\n    }\r\n\r\n    addExercises = async () => {\r\n        const { history, updateExercises } = this.props;\r\n        const { id, workoutName, exercises } = this.state;\r\n        updateExercises({ id, workoutName, exercises })\r\n        history.push('/atlas');\r\n    }\r\n\r\n    saveAndStart = () => {\r\n        const { history } = this.props;\r\n        const { workoutName } = this.state;\r\n        this.addWorkoutTemplate();\r\n        history.push(`/start-workout/${workoutName}`);\r\n    }\r\n\r\n    saveAndBack = () => {\r\n        const { history } = this.props;\r\n        this.addWorkoutTemplate();\r\n        history.push('/templates');\r\n    }\r\n\r\n    discardAndBack = () => {\r\n        const { history, clearWorkout } = this.props;\r\n        clearWorkout();\r\n        history.goBack();\r\n    }\r\n\r\n    addWorkoutTemplate = () => {\r\n        const { exercises, id, workoutName } = this.state;\r\n        const user = firestore.doc(`/users/${this.props.currentUser.id}`);\r\n        const chosenExercises = exercises.map(({name, sets, type, id}) => sets ? ({name, sets, type, id}) : ({name, type, id}));\r\n        console.log(chosenExercises);\r\n        id ? updateDocumentInCollection('workoutTemplates', { exercises: chosenExercises, user, workoutName, id }) : addDocumentToCollection('workoutTemplates', { exercises: chosenExercises, user, workoutName });   \r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        if(!this.state.exercises.length) {\r\n            this.setState({noExercises: true});\r\n            return null;\r\n        }\r\n        if(this.state.start === true) {\r\n            this.saveAndStart()\r\n        } else if (this.state.start === false) {\r\n            this.saveAndBack()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { exercises, totalExercises, totalSets, noExercises } = this.state;\r\n        return (\r\n            <div>\r\n                {\r\n                    noExercises ? \r\n                    <div className='review-popup'>\r\n                        <div className='review-popup-inner'>\r\n                            <h3>Workout must have at least one exercise!</h3>\r\n                            <CustomButton onClick={() => this.setState({noExercises: false})}>OK</CustomButton>\r\n                        </div>\r\n                    </div> : \r\n                    <div className='review-template'>\r\n                        <form onSubmit={this.handleSubmit} id=\"review-template-form\">\r\n                            <FormInput required onChange={this.handleChange} name='workoutName' label='Workout name' value={this.state.workoutName}/>\r\n                        </form>\r\n                        <div className='review-template-header'>\r\n                            <div className='header-block'>\r\n                                <span>Exercise</span>\r\n                            </div>\r\n                            <div className='header-block'>\r\n                                <span>Sets</span>\r\n                            </div>\r\n                            <div className='header-block'>\r\n                                <span>Actions</span>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            exercises.map((exercise, index) => <ReviewTemplateItem key={exercise.type === 'aerobic' ? exercise.id + index : exercise.id} exercise={exercise} />)\r\n                        }\r\n                        <div className='total'>\r\n                            <span>Exercises: {totalExercises}</span>\r\n                            <span>Total sets: {totalSets}</span>\r\n                        </div>\r\n                        <div className='actions'>\r\n                            <div className='action'>\r\n                                <CustomButton onClick={() => this.addExercises()}>ADD EXERCISES</CustomButton>\r\n                                <span>Add more exercises to the template</span>\r\n                            </div>\r\n                            <div className='action'>\r\n                                <CustomButton type='submit' form='review-template-form' onClick={() => this.setState({start: true})}>START WORKOUT</CustomButton>\r\n                                <span>Save template and start workout now</span>\r\n                            </div>\r\n                            <div className='action'>\r\n                                <CustomButton type='submit' form='review-template-form' onClick={() => this.setState({start: false})}>SAVE WORKOUT</CustomButton>\r\n                                <span>Save template and go back</span>\r\n                            </div>\r\n                            <div className='action'>\r\n                                <CustomButton inverted onClick={() => this.discardAndBack()}>DISCARD</CustomButton>\r\n                                <span>Discard changes and go back</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    exercises: selectChosenExercisesItems(state),\r\n    workoutName: selectChosenExercisesWorkoutName(state),\r\n    totalExercises: selectChosenExercisesCount(state),\r\n    totalSets: selectChosenExercisesSetCount(state),\r\n    id: selectChosenExercisesId(state),\r\n    currentUser: selectCurrentUser(state)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    clearWorkout: () => dispatch(clearWorkout()),\r\n    updateExercises: exercises => dispatch(updateExercises(exercises))\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(ReviewTemplate);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport { firestore, convertAtlasSnapshotToMap } from '../../firebase/firebase.utils';\r\nimport { updateAtlas } from '../../redux/atlas/atlas-actions';\r\nimport { hideDropdown, clearWorkout } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\n\r\nimport AtlasOverview from '../../components/atlas-overview/atlas-overview.component';\r\nimport AtlasCategory from '../../components/atlas-category/atlas-category.component';\r\nimport WithLoading from '../../components/with-loading/with-loading.component';\r\nimport ReviewTemplate from '../../components/review-template/review-template.component';\r\n\r\nimport './exercise-atlas.styles.scss';\r\n\r\nconst AtlasOverviewWithLoading = WithLoading(AtlasOverview);\r\nconst AtlasCategoryWithLoading = WithLoading(AtlasCategory);\r\nconst ReviewTemplateWithLoading = WithLoading(ReviewTemplate);\r\n\r\nclass ExerciseAtlasPage extends React.Component {\r\n    state = {\r\n        loading: true\r\n    }\r\n\r\n    unsubscribeFromSnapshot = null;\r\n\r\n    componentDidMount() {\r\n        const { updateAtlas } = this.props;\r\n        const collectionRef = firestore.collection('atlas');\r\n        this.unsubscribeFromSnapshot = collectionRef.get().then(async snapshot => {\r\n            const collectionMap = convertAtlasSnapshotToMap(snapshot);\r\n            await updateAtlas(collectionMap);\r\n            this.setState({\r\n                loading: false\r\n            })\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.hideDropdown();\r\n    }\r\n\r\n    render() {\r\n        const { match, currentUser } = this.props;\r\n        const { loading } = this.state;\r\n        return (\r\n            <div className='exercise-atlas'>\r\n                <Route exact path={`${match.path}`} render={(props) => <AtlasOverviewWithLoading isLoading={loading} {...props} />} />\r\n                <Switch>\r\n                    <Route exact path={`${match.path}/review-template`} render={props => <ReviewTemplateWithLoading currentUser={currentUser} {...props} /> } />\r\n                    <Route exact path={`${match.path}/:title`} render={(props) => <AtlasCategoryWithLoading isLoading={loading} {...props} />} />\r\n                </Switch>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateAtlas: collectionMap => dispatch(updateAtlas(collectionMap)),\r\n    hideDropdown: () => dispatch(hideDropdown()),\r\n    clearWorkout: () => dispatch(clearWorkout())\r\n})\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(ExerciseAtlasPage);","import { AtlasActionTypes } from './atlas-action-types';\r\n\r\nexport const updateAtlas = (collectionMap) => ({\r\n    type: AtlasActionTypes.UPDATE_ATLAS,\r\n    payload: collectionMap\r\n})","import React from 'react';\r\n\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport { auth, signInWithGoogle } from '../../firebase/firebase.utils';\r\n\r\nimport './sign-in.styles.scss';\r\n\r\nclass SignIn extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    const { email, password } = this.state;\r\n\r\n    try {\r\n      await auth.signInWithEmailAndPassword(email, password);\r\n      this.setState({ email: '', password: '' });\r\n    } catch(error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { value, name } = event.target;\r\n\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className='sign-in'>\r\n        <h2>I already have an account</h2>\r\n        <span>Sign in with your email and password</span>\r\n\r\n        <form onSubmit={this.handleSubmit}>\r\n          <FormInput\r\n            name='email'\r\n            type='email'\r\n            handleChange={this.handleChange}\r\n            value={this.state.email}\r\n            label='email'\r\n            required\r\n          />\r\n          <FormInput\r\n            name='password'\r\n            type='password'\r\n            value={this.state.password}\r\n            handleChange={this.handleChange}\r\n            label='password'\r\n            required\r\n          />\r\n          <div className='buttons'>\r\n            <CustomButton type='submit'>Sign in</CustomButton>\r\n            <CustomButton type='button' isGoogleSignIn onClick={() => {signInWithGoogle().catch(() => this.props.onSignIn(false)).then(() => this.props.onSignIn(false)); this.props.onSignIn(true)}}>Sign in with Google</CustomButton>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignIn;","import React from 'react';\r\n\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport { auth, createUserProfileDocument } from '../../firebase/firebase.utils';\r\n\r\nimport './sign-up.styles.scss';\r\n\r\nclass SignUp extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            displayName: '',\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: ''\r\n        }\r\n    }\r\n\r\n    handleSubmit = async event => {\r\n        event.preventDefault();\r\n\r\n        const { displayName, email, password, confirmPassword } = this.state;\r\n\r\n        if(password !== confirmPassword) {\r\n            alert(\"Passwords don't match!\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const { user } = await auth.createUserWithEmailAndPassword(email, password)\r\n            \r\n            await createUserProfileDocument(user, { displayName });\r\n\r\n            this.setState({\r\n                displayName: '',\r\n                email: '',\r\n                password: '',\r\n                confirmPassword: ''\r\n            })\r\n\r\n        } catch(error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    handleChange = event => {\r\n        const { name, value } = event.target;\r\n\r\n        this.setState({\r\n            [name] : value\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { displayName, email, password, confirmPassword } = this.state;\r\n        return(\r\n            <div className='sign-up'>\r\n                <h2 className='title'>I do not have an account</h2>\r\n                <span>Sign up with your email and password</span>\r\n                <form className='sign-up-form' onSubmit={this.handleSubmit}>\r\n                    <FormInput type='text' name='displayName' value={displayName} onChange={this.handleChange} label='Display Name' required />\r\n                    <FormInput type='email' name='email' value={email} onChange={this.handleChange} label='Email' required />\r\n                    <FormInput type='password' name='password' value={password} onChange={this.handleChange} label='Password' required />\r\n                    <FormInput type='password' name='confirmPassword' value={confirmPassword} onChange={this.handleChange} label='Confirm password' required />\r\n                    <CustomButton type='submit'>SIGN UP</CustomButton>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default SignUp;","import React from 'react';\r\n\r\nimport SignIn from '../../components/sign-in/sign-in.component';\r\nimport SignUp from '../../components/sign-up/sign-up.component';\r\n\r\nimport './sign-in-sign-up.styles.scss';\r\n\r\nconst SignInSignUpPage = ({signingIn}) => (\r\n  <div className='sign-in-sign-up'>\r\n    <SignIn onSignIn={arg => signingIn(arg)}/>\r\n    <SignUp />\r\n  </div>\r\n);\r\n\r\nexport default SignInSignUpPage;","import { WorkoutTemplatesActionTypes } from './workout-templates-action-types';\r\n\r\nexport const updateTemplates = templates => ({\r\n    type: WorkoutTemplatesActionTypes.UPDATE_TEMPLATES,\r\n    payload: templates\r\n})\r\n\r\nexport const updateTemplateById = template => ({\r\n    type: WorkoutTemplatesActionTypes.UPDATE_TEMPLATE_BY_ID,\r\n    payload: template\r\n})\r\n\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport './start-workout-item.styles.scss';\r\n\r\nconst StartWorkoutItem = ({ workoutName, exercises, history }) => (\r\n    <div className='start-workout-item'>\r\n        <h1>{workoutName ? workoutName : '...'}</h1>\r\n        <div className='buttons'>\r\n            <CustomButton onClick={() => history.push(`/start-workout/${workoutName}`)}>START</CustomButton>\r\n        </div>\r\n        <div className='details'>\r\n            <h3>Exercises: \r\n                {\r\n                    exercises ? ' ' + exercises.map(exercise => ' ' + exercise.name) : '...'\r\n                }\r\n            </h3>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default withRouter(StartWorkoutItem);","import { createSelector } from 'reselect';\r\n\r\nconst selectWorkoutTemplates = state => state.workoutTemplates;\r\n\r\nconst selectWorkoutTemplatesItems = createSelector(\r\n    [selectWorkoutTemplates],\r\n    templates => templates.workoutTemplates\r\n)\r\n\r\nexport const selectWorkoutTemplatesMap = createSelector(\r\n    [selectWorkoutTemplatesItems],\r\n    templates => templates ? Object.keys(templates).map(key => templates[key]) : []\r\n)\r\n\r\nexport const selectWorkoutTemplate = name => createSelector(\r\n    [selectWorkoutTemplatesMap],\r\n    templates => templates ? templates.find(template => template.workoutName === name) : null\r\n)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport StartWorkoutItem from '../start-workout-item/start-workout-item.component';\r\n\r\nimport { selectWorkoutTemplatesMap } from '../../redux/workout-templates/workout-templates-selectors';\r\n\r\nimport './start-workout-overview.styles.scss';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nconst StartWorkoutOverview = ({ workoutTemplates, history }) => (\r\n    <div className='start-workout-overview'>\r\n        <h1>Choose workout template</h1>\r\n        <h4>Click start next to the workout you want to start</h4>\r\n        {\r\n            workoutTemplates ? workoutTemplates.map(({ id, ...otherProps }) => <StartWorkoutItem key={id} {...otherProps} />) : '...'\r\n        }\r\n        <h2>...or create a new one</h2>\r\n        <div className='start-workout-actions'>\r\n            <CustomButton onClick={() => history.push('/atlas')}>NEW TEMPLATE</CustomButton>\r\n            <CustomButton inverted onClick={() => history.push('/dashboard')}>BACK</CustomButton>\r\n        </div>\r\n    </div>\r\n)\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    workoutTemplates: selectWorkoutTemplatesMap(state)\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps)(StartWorkoutOverview));\r\n","import React from 'react';\r\n\r\nimport FormInput from '../form-input/form-input.component';\r\n\r\nimport './workout-set.styles.scss';\r\n\r\nclass WorkoutSet extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            reps: props.set.reps,\r\n            weight: props.set.weight\r\n        }\r\n    }\r\n\r\n    handleChange = event => {\r\n        const { value, name } = event.target;\r\n        this.setState({ [name]: value }, this.props.onChange(this.props.index, name, value));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='workout-set'>\r\n                <h3 className='set-number'>{this.props.index + 1}</h3>\r\n                <div className='set-input'>\r\n                    <FormInput type='number' value={this.state.reps} onChange={this.handleChange} name='reps' label='Reps' />\r\n                </div>\r\n                {\r\n                    this.props.type === 'weighted' ? \r\n                        <div className='set-input'>\r\n                            <FormInput type='number' value={this.state.weight} onChange={this.handleChange} name='weight' label='Weight'/>\r\n                        </div> : ''\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WorkoutSet;","import React from 'react';\r\n\r\nimport FormInput from '../form-input/form-input.component';\r\n\r\nimport './aerobic-exercise.styles.scss';\r\n\r\nclass AerobicExercise extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            averageHeartRate : props.averageHeartRate,\r\n            duration: props.duration\r\n        }\r\n    }\r\n\r\n    handleChange = event => {\r\n        const { value, name } = event.target;\r\n        this.setState({ [name]: value }, this.props.onChange(name, value));\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className='aerobic-exercise'>\r\n                <div className='aerobic-exercise-input'>\r\n                    <FormInput type='number' value={this.state.averageHeartRate} onChange={this.handleChange} name='averageHeartRate' label='Heart rate' />\r\n                </div>\r\n                <div className='aerobic-exercise-input'>\r\n                    <FormInput type='number' value={this.state.duration} onChange={this.handleChange} name='duration' label='Duration' />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AerobicExercise;","import React from 'react';\r\nimport update from 'immutability-helper';\r\n\r\nimport WorkoutSet from '../workout-set/workout-set.component';\r\nimport AerobicExercise from '../aerobic-exercise/aerobic-exercise.component';\r\n\r\nimport './workout-exercise.styles.scss';\r\n\r\nclass WorkoutExercise extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            averageHeartRate: props.averageHeartRate,\r\n            duration: props.duration,\r\n            sets: props.sets,\r\n            expanded: props.expanded,\r\n            setsCompleted: 0\r\n        }\r\n    }\r\n\r\n     componentDidMount() {\r\n        this.updateCompletedSets();\r\n    } \r\n\r\n    toggleExpand = () => {\r\n        this.setState({\r\n            expanded: !this.state.expanded\r\n        })\r\n    }\r\n\r\n     updateCompletedSets = () => {\r\n        var completed = 0;\r\n        const { sets } = this.state;\r\n        const { type } = this.props;\r\n        sets ? sets.forEach(element => {\r\n            if(type === 'weighted' ? element.reps.length && element.weight.length : element.reps.length) {\r\n                completed++;\r\n            }\r\n        }) : completed = 0;\r\n        this.setState(\r\n            update(this.state, {setsCompleted: {$set: completed}})\r\n        )\r\n    } \r\n\r\n    handleSetChange = (index, name, value) => {\r\n        this.setState(\r\n            update(this.state, {sets: {[index]: {[name]: {$set: value} }}}), () => {\r\n                this.props.onChange(this.props.id, this.state.sets);\r\n                this.updateCompletedSets();\r\n            }\r\n        );\r\n    }\r\n\r\n    handleAerobicChange = (name, value) => {\r\n        this.setState(\r\n            update(this.state, {[name]: {$set: value}}), () => {\r\n                this.props.onChange(this.props.id, {name: name, value: value})\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { name, type } = this.props;\r\n        const { sets, expanded, setsCompleted, averageHeartRate, duration } = this.state;\r\n        return (\r\n            <div className='workout-exercise'>\r\n                <h3>{name} { sets ? '(' + setsCompleted + '/' + sets.length + ')' : '' } {expanded ? <span className='expand-button' onClick={() => this.toggleExpand()}>&#9660;</span> : \r\n                    <span className='expand-button' onClick={() => this.toggleExpand()}>&#9654;</span>} </h3>\r\n                {\r\n                    expanded ?  (\r\n                    sets ? sets.map((set, index) =>\r\n                        <WorkoutSet key={index} index={index} onChange={this.handleSetChange} type={type} set={set} />\r\n                    ) : <AerobicExercise onChange={this.handleAerobicChange} averageHeartRate={averageHeartRate} duration={duration} />) :\r\n                    ('')\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default WorkoutExercise;","import { createSelector } from 'reselect';\r\n\r\nconst selectCurrentWorkout = state => state.currentWorkout;\r\n\r\nexport const selectCurrentWorkoutItem = createSelector(\r\n    [selectCurrentWorkout],\r\n    workout => workout.currentWorkout\r\n)","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport update from 'immutability-helper';\r\n\r\nimport WorkoutExercise from '../workout-exercise/workout-exercise.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport WorkoutCompleted from '../workout-completed/workout-completed.component';\r\n\r\nimport { firestore, addDocumentToCollection } from '../../firebase/firebase.utils';\r\nimport { updateCurrentWorkout, clearCurrentWorkout } from '../../redux/current-workout/current-workout-actions';\r\nimport { selectCurrentUser } from '../../redux/user/user-selectors';\r\nimport { selectWorkoutTemplate } from '../../redux/workout-templates/workout-templates-selectors';\r\nimport { selectCurrentWorkoutItem } from '../../redux/current-workout/current-workout-selectors';\r\n\r\nimport './workout-in-progress.styles.scss';\r\n\r\nclass WorkoutInProgress extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            workout: null,\r\n            completed: false,\r\n            hours: 0,\r\n            minutes: 0,\r\n            seconds: 0,\r\n            timerRunning: true\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if(props.workoutTemplate && props.currentUser && props.updateCurrentWorkout && !state.workout) {\r\n            const { workoutTemplate: { workoutName, exercises }, updateCurrentWorkout, currentUser } = props;\r\n            const workoutToAdd = {\r\n                workoutName: workoutName,\r\n                exercises: exercises.map(exercise => {\r\n                    if(exercise.type === 'aerobic') {\r\n                        return {\r\n                            id: exercise.id,\r\n                            name: exercise.name,\r\n                            type: exercise.type,\r\n                            averageHeartRate: '',\r\n                            duration: ''\r\n                        }\r\n                    } else {\r\n                        return {\r\n                            id: exercise.id,\r\n                            name: exercise.name,\r\n                            type: exercise.type,\r\n                            sets: new Array(exercise.sets).fill(0).map(() => exercise.type === 'weighted' ? ({\r\n                                reps: '',\r\n                                weight: ''\r\n                            }) : ({\r\n                                reps: ''\r\n                            }))\r\n                        }\r\n                    }\r\n                }),\r\n                date: new Date(),\r\n                time: 0,\r\n                user: firestore.doc(`/users/${currentUser.id}`)\r\n            }\r\n            if(!props.currentWorkout) {\r\n                updateCurrentWorkout(workoutToAdd);\r\n                return {\r\n                    workout: workoutToAdd\r\n                }\r\n            }\r\n            return {\r\n                workout: props.currentWorkout\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.interval = setInterval(this.tick, 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.clearCurrentWorkout();\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    tick = () => {\r\n        var seconds = this.state.seconds;\r\n        var minutes = this.state.minutes;\r\n        var hours= this.state.hours;\r\n\r\n        if(seconds + 1 >= 60) {\r\n            seconds = 0;\r\n            if(minutes + 1 >= 60) {\r\n                minutes = 0;\r\n                hours = hours + 1;\r\n            } else {\r\n                minutes = minutes + 1;\r\n            }\r\n        } else {\r\n            seconds = seconds + 1\r\n        }\r\n\r\n        this.setState({\r\n            seconds: seconds,\r\n            minutes: minutes,\r\n            hours: hours\r\n        })\r\n    }\r\n\r\n    toggleTimer = () => {\r\n        if(this.state.timerRunning) {\r\n            clearInterval(this.interval)\r\n        } else {\r\n            this.interval = setInterval(this.tick, 1000)\r\n        }\r\n        this.setState({\r\n            timerRunning: !this.state.timerRunning\r\n        })\r\n    }\r\n\r\n    completeWorkout = () => {\r\n        this.setState(\r\n            {\r\n                workout: update(this.state.workout, {time: {$set: this.state.minutes }}),\r\n                completed: true\r\n            }, () => {\r\n                addDocumentToCollection('workouts', this.state.workout)\r\n            }\r\n        );\r\n    }\r\n\r\n    handleExerciseChange = (id, value) => {\r\n        const { exercises } = this.state.workout;\r\n        const index = exercises.indexOf(exercises.find(exercise => exercise.id === id));\r\n        id > 800 && id < 900 ? \r\n        this.setState({\r\n            workout: update(this.state.workout, {exercises: {[index]: {[value.name]: {$set: value.value}}}})\r\n        }, () => this.props.updateCurrentWorkout(this.state.workout)) : this.setState({\r\n            workout: update(this.state.workout, {exercises: {[index]: {sets: {$set: value}}}})\r\n        }, () => this.props.updateCurrentWorkout(this.state.workout));\r\n    }\r\n\r\n    render() {\r\n        const { workout, completed, seconds, minutes, hours, timerRunning } = this.state;\r\n        return (\r\n            <div className='workout-in-progress'>\r\n                <h1>{workout.workoutName}</h1>\r\n                <h2>Time elapsed: \r\n                    <span className='time'>\r\n                        {hours < 10 ? `0${hours}` : hours}:\r\n                        {minutes < 10 ? `0${minutes}` : minutes}:\r\n                        {seconds < 10 ? `0${seconds}` : seconds}\r\n                    </span>\r\n                    <span className='timer-button' onClick={() => this.toggleTimer()}>\r\n                        {timerRunning ? <span className='pause-button'>&#10074;&#10074;</span> : <span className='play-button'>&#9658;</span>}\r\n                    </span>\r\n                </h2>\r\n                {\r\n                    workout.exercises.map(({ id, ...otherProps }) => <WorkoutExercise key={id} id={id} onChange={this.handleExerciseChange} expanded={false} {...otherProps} />)\r\n                }\r\n                <div className='actions'>\r\n                    <CustomButton inverted onClick={() => this.completeWorkout()} >DONE</CustomButton>\r\n                    <CustomButton onClick={() => {\r\n                        this.props.clearCurrentWorkout();\r\n                        this.props.history.push('/start-workout')\r\n                    }} >BACK</CustomButton>\r\n                </div>\r\n                {\r\n                    completed ? <WorkoutCompleted workout={workout} /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n    workoutTemplate: selectWorkoutTemplate(props.match.params.templateName)(state),\r\n    currentUser: selectCurrentUser(state),\r\n    currentWorkout: selectCurrentWorkoutItem(state)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateCurrentWorkout: workout => dispatch(updateCurrentWorkout(workout)),\r\n    clearCurrentWorkout: () => dispatch(clearCurrentWorkout())\r\n})\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WorkoutInProgress));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, withRouter } from 'react-router-dom';\r\n\r\nimport { firestore, convertTemplatesSnapshotToMap } from '../../firebase/firebase.utils';\r\nimport { updateTemplates } from '../../redux/workout-templates/workout-templates-actions';\r\n\r\nimport StartWorkoutOverview from '../../components/start-workout-overview/start-workout-overview.component';\r\nimport WorkoutInProgress from '../../components/workout-in-progress/workout-in-progress.component';\r\nimport WithLoading from '../../components/with-loading/with-loading.component';\r\n\r\nimport './start-workout.styles.scss';\r\n\r\nconst StartWorkoutOverviewWithLoading = WithLoading(StartWorkoutOverview);\r\nconst WorkoutInProgressWithLoading = WithLoading(WorkoutInProgress);\r\n\r\nclass StartWorkoutPage extends React.Component {\r\n    state = {\r\n        loading: true\r\n    }\r\n\r\n    unsubscribeFromSnapshot = null;\r\n\r\n    componentDidMount() {\r\n        this.update();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.update();\r\n    }\r\n\r\n    update() {\r\n        if(!this.props.currentUser || !this.props.updateTemplates) return null;\r\n        const { updateTemplates, currentUser } = this.props;\r\n        const templatesRef = firestore.collection('workoutTemplates').where('user', '==', firestore.doc(`/users/${currentUser.id}`));\r\n        this.unsubscribeFromSnapshot = templatesRef.get().then(snapshot => {\r\n            const templatesMap = convertTemplatesSnapshotToMap(snapshot);\r\n            updateTemplates(templatesMap);\r\n            if(this.state.loading){\r\n                this.setState({\r\n                    loading: false\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { match } = this.props;\r\n        const { loading } = this.state;\r\n        return (\r\n            <div className='start-workout'>\r\n                <Route exact path={`${match.path}`} render={props => <StartWorkoutOverviewWithLoading isLoading={loading} {...props} />} />\r\n                <Route exact path={`${match.path}/:templateName`} render={props => <WorkoutInProgressWithLoading isLoading={loading} {...props} />} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateTemplates: templates => dispatch(updateTemplates(templates))\r\n})\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(StartWorkoutPage));","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport CustomButton from '../../components/custom-button/custom-button.component';\r\n\r\nimport { clearWorkout } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\n\r\nimport './dashboard.styles.scss'\r\n\r\nconst DashboardPage = ({ currentUser, history, clearWorkout }) => (\r\n    <div className='dashboard'>\r\n        <div className='content'>\r\n            <div className='title'>\r\n                <h1>\r\n                {\r\n                    `HELLO ${currentUser.displayName.toUpperCase()}!`\r\n                }\r\n                </h1>\r\n                <h3>A great day for an outdoor run!</h3>\r\n                <div className='action'>\r\n                    <CustomButton onClick={() => history.push('/start-workout')}>START WORKOUT</CustomButton>\r\n                    <span>Start one of your saved workouts</span>\r\n                </div>\r\n                <span className='or'>OR</span>\r\n                <div className='action'>\r\n                    <CustomButton onClick={() => {\r\n                            clearWorkout();\r\n                            history.push('/atlas');\r\n                        }\r\n                    }>CREATE WORKOUT</CustomButton>\r\n                    <span>Create a new reusable workout template</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    clearWorkout: () => dispatch(clearWorkout())\r\n})\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(DashboardPage));","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { firestore } from '../../firebase/firebase.utils';\r\n\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport './workout-item.styles.scss';\r\n\r\nclass WorkoutItem extends React.Component {\r\n\r\n    deleteWorkout = async id => {\r\n        const ref = firestore.doc(`/workouts/${id}`);\r\n        await ref.delete();\r\n        this.props.handleWorkoutDelete(id);\r\n    }\r\n\r\n    render() {\r\n        const { workoutName, time, date, exercises, id } = this.props.workout;\r\n        const { history } = this.props;\r\n        return(\r\n            <div className='workout-item'>\r\n                <h1>{workoutName}</h1>\r\n                <span className='workout-item-from'>from {date.toDate().toLocaleString().substring(0, date.toDate().toLocaleString().indexOf(','))}</span>\r\n                <div className='buttons'>\r\n                    <CustomButton onClick={() => history.push(`/workouts/${id}`)}>DETAILS</CustomButton>\r\n                    <CustomButton inverted onClick={() => this.deleteWorkout(id)}>DELETE</CustomButton>\r\n                </div>\r\n                <div className='details'>\r\n                    <h3>\r\n                        {\r\n                            exercises.find(exercise => exercise.type === 'weighted') ? \r\n                            <span>\r\n                                Weights lifted: {\r\n                                    exercises.reduce((accumulator, exercise) => {\r\n                                        if(exercise.type === 'weighted') {\r\n                                            return accumulator + exercise.sets.reduce((accumulator, set) => {\r\n                                                return accumulator + parseInt(set.weight !== \"\" ? set.weight : 0, 10)\r\n                                            }, 0)\r\n                                        }\r\n                                        return accumulator\r\n                                    }, 0)\r\n                                } kg,\r\n                            </span> \r\n                        : ''\r\n                        }\r\n                        <span>\r\n                            &nbsp;Duration: {time} min\r\n                        </span>\r\n                    </h3>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(WorkoutItem);","import {WorkoutsActionTypes} from './workouts-action-types';\r\n\r\nexport const updateWorkouts = workouts => ({\r\n    type: WorkoutsActionTypes.UPDATE_WORKOUTS,\r\n    payload: workouts\r\n})\r\n\r\nexport const updateWorkoutById = (workout) => ({\r\n    type: WorkoutsActionTypes.UPDATE_WORKOUT_BY_ID,\r\n    payload: workout\r\n})","import { createSelector } from 'reselect';\r\n\r\nconst selectWorkouts = state => state.workouts;\r\n\r\nconst selectWorkoutsItems = createSelector(\r\n    [selectWorkouts],\r\n    workouts => workouts.workouts\r\n)\r\n\r\nexport const selectWorkoutsMap = createSelector(\r\n    [selectWorkoutsItems],\r\n    workouts => workouts ? Object.keys(workouts).map(key => workouts[key]) : []\r\n)\r\n\r\nexport const selectWorkout = id => createSelector(\r\n    [selectWorkoutsMap],\r\n    workouts => workouts ? workouts.find(workout => workout.id === id) : null\r\n)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport WorkoutItem from '../workout-item/workout-item.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport { updateWorkouts } from '../../redux/workouts/workouts-actions';\r\nimport { selectWorkoutsMap } from '../../redux/workouts/workouts-selectors';\r\n\r\nimport './workout-list.styles.scss';\r\n\r\nclass WorkoutList extends React.Component {\r\n\r\n    deleteWorkout = id => {\r\n        this.props.updateWorkouts(this.props.workouts.filter(workout => workout.id !== id));\r\n    }\r\n\r\n    render() {\r\n        const { workouts, history } = this.props;\r\n        return(\r\n            <div className='workout-list'>\r\n                <h1>Your past workouts</h1>\r\n                <h4>If you made a mistake when entering information, you can always edit past workouts</h4>\r\n                {\r\n                    workouts ? workouts.map(workout => <WorkoutItem key={workout.id} workout={workout} handleWorkoutDelete={this.deleteWorkout}/>) : '...'\r\n                }\r\n                <CustomButton inverted onClick={() => history.push('/dashboard')}>BACK</CustomButton>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    workouts: selectWorkoutsMap(state)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateWorkouts: workouts => dispatch(updateWorkouts(workouts))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WorkoutList);","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport update from 'immutability-helper';\r\n\r\nimport WorkoutExercise from '../workout-exercise/workout-exercise.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport WorkoutCompleted from '../workout-completed/workout-completed.component';\r\n\r\nimport { updateDocumentInCollection } from '../../firebase/firebase.utils';\r\nimport { updateWorkoutById } from '../../redux/workouts/workouts-actions';\r\nimport { selectWorkout } from '../../redux/workouts/workouts-selectors';\r\n\r\nimport './workout-details.styles.scss';\r\n\r\n\r\nclass WorkoutDetails extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            updated: false,\r\n            workout: null\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if(props.workout && props.updateWorkoutById && !state.workout) {\r\n            return props;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    saveWorkout = () => {\r\n        const { workout } = this.state;\r\n        updateDocumentInCollection('workouts', workout);\r\n        this.props.updateWorkoutById(workout);\r\n        this.setState({\r\n            updated: true\r\n        })\r\n    }\r\n\r\n    handleExerciseChange = (id, sets) => {\r\n        const { workout } = this.state;\r\n        const { exercises } = workout;\r\n        const index = exercises.indexOf(exercises.find(exercise => exercise.id === id));\r\n        this.setState({\r\n            workout: update(this.state.workout, {exercises: {[index]: {sets: {$set: sets}}}})\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { workout, updated } = this.state;\r\n        return (\r\n            <div className='workout-details'>\r\n                <h1>{workout ? workout.workoutName : '...'}</h1>\r\n                {\r\n                    workout ? workout.exercises.map(({ id, ...otherProps }) => <WorkoutExercise key={id} id={id} onChange={this.handleExerciseChange} expanded={true} {...otherProps} />) : '...'\r\n                }\r\n                <div className='actions'>\r\n                    <CustomButton onClick={this.saveWorkout} >SAVE</CustomButton>\r\n                    <CustomButton inverted onClick={() => this.props.history.goBack()} >BACK</CustomButton>\r\n                </div>\r\n                {\r\n                    updated ? <WorkoutCompleted isCurrent={false} workout={workout} /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n    workout: selectWorkout(props.match.params.workoutId)(state)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateWorkoutById: workout => dispatch(updateWorkoutById(workout))\r\n})\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WorkoutDetails));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport WorkoutList from '../../components/workout-list/workout-list.component';\r\nimport WorkoutDetails from '../../components/workout-details/workout-details.component';\r\nimport WithLoading from '../../components/with-loading/with-loading.component';\r\n\r\nimport { firestore, convertWorkoutsSnapshotToMap } from '../../firebase/firebase.utils';\r\nimport { updateWorkouts } from '../../redux/workouts/workouts-actions';\r\n\r\nimport './workouts.styles.scss';\r\n\r\nconst WorkoutListWithLoading = WithLoading(WorkoutList);\r\nconst WorkoutDetailsWithLoading = WithLoading(WorkoutDetails);\r\n\r\nclass WorkoutsPage extends React.Component {\r\n    state = {\r\n        loading: true\r\n    }\r\n\r\n    unsubscribeFromSnapshot = null;\r\n\r\n    componentDidMount() {\r\n        this.update();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.update();\r\n    }\r\n\r\n    update() {\r\n        if(!this.props.currentUser || !this.props.updateWorkouts) return null;\r\n\r\n        const { updateWorkouts, currentUser } = this.props;\r\n        const workoutsRef = firestore.collection('workouts').where('user', '==', firestore.doc(`/users/${currentUser.id}`)).orderBy('date', 'desc');\r\n        this.unsubscribeFromSnapshot = workoutsRef.get().then(snapshot => {\r\n            const workoutsMap = convertWorkoutsSnapshotToMap(snapshot);\r\n            updateWorkouts(workoutsMap);\r\n            if(this.state.loading){\r\n                this.setState({\r\n                    loading: false\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { match } = this.props;\r\n        const { loading } = this.state;\r\n        return(\r\n            <div className='workouts'>\r\n                <Route exact path={`${match.url}`} render={props => <WorkoutListWithLoading isLoading={loading} {...props} /> } />\r\n                <Route exact path={`${match.url}/:workoutId`} render={props => <WorkoutDetailsWithLoading isLoading={loading} {...props} /> } />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateWorkouts: workouts => dispatch(updateWorkouts(workouts))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(WorkoutsPage);","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { firestore } from '../../firebase/firebase.utils';\r\n\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport './template-item.styles.scss';\r\nimport { updateExercises } from '../../redux/chosen-exercises/chosen-exercises-actions';\r\n\r\nclass TemplateItem extends React.Component {\r\n\r\n    deleteTemplate = async id => {\r\n        const ref = firestore.doc(`/workoutTemplates/${id}`);\r\n        await ref.delete();\r\n        this.props.handleTemplateDelete(id);\r\n    }\r\n\r\n    render() {\r\n        const {id, workoutName, exercises, history, updateExercises } = this.props;\r\n        return (\r\n            <div className='template-item'>\r\n                <h1>{workoutName ? workoutName : '...'}</h1>\r\n                <div className='buttons'>\r\n                    <CustomButton onClick={() => {\r\n                            updateExercises({ id, workoutName, exercises });\r\n                            history.push(`/templates/${workoutName}`);\r\n                        }\r\n                    }>DETAILS</CustomButton>\r\n                    <CustomButton inverted onClick={() => this.deleteTemplate(id)}>DELETE</CustomButton>\r\n                </div>\r\n                <div className='details'>\r\n                    <h3>Exercises: \r\n                        {\r\n                            exercises ? ' ' + exercises.map(exercise => ' ' + exercise.name) : '...'\r\n                        }\r\n                    </h3>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateExercises: template => dispatch(updateExercises(template))\r\n})\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(TemplateItem));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { updateTemplates } from '../../redux/workout-templates/workout-templates-actions';\r\nimport { selectWorkoutTemplatesMap } from '../../redux/workout-templates/workout-templates-selectors';\r\n\r\nimport TemplateItem from '../template-item/template-item.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport './templates-overview.styles.scss';\r\n\r\nclass TemplatesOverview extends React.Component {\r\n\r\n    deleteTemplate = id => {\r\n        this.props.updateTemplates(this.props.workoutTemplates.filter(template => template.id !== id));\r\n    }\r\n\r\n    render() {\r\n        const { workoutTemplates, history } = this.props;\r\n        return (\r\n            <div className='templates-overview'>\r\n                <h1>Manage your workout templates</h1>\r\n                <h4>Here you can adjust or delete your workout templates</h4>\r\n                {\r\n                    workoutTemplates ? workoutTemplates.map(({ id, ...otherProps }) => <TemplateItem key={id} id={id} {...otherProps} handleTemplateDelete={this.deleteTemplate} />) : '...'\r\n                }\r\n                <CustomButton inverted onClick={() => history.push('/dashboard')}>BACK</CustomButton>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    workoutTemplates: selectWorkoutTemplatesMap(state)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateTemplates: templates => dispatch(updateTemplates(templates))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TemplatesOverview);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, withRouter } from 'react-router-dom';\r\n\r\nimport { firestore, convertTemplatesSnapshotToMap } from '../../firebase/firebase.utils';\r\nimport { updateTemplates } from '../../redux/workout-templates/workout-templates-actions';\r\n\r\nimport TemplatesOverview from '../../components/templates-overview/templates-overview.component';\r\nimport WithLoading from '../../components/with-loading/with-loading.component';\r\nimport ReviewTemplate from '../../components/review-template/review-template.component';\r\n\r\nimport './templates.styles.scss';\r\n\r\nconst TemplatesOverviewWithLoading = WithLoading(TemplatesOverview);\r\nconst ReviewTemplateWithLoading = WithLoading(ReviewTemplate);\r\n\r\nclass TemplatesPage extends React.Component {\r\n    state = {\r\n        loading: true\r\n    }\r\n\r\n    unsubscribeFromSnapshot = null;\r\n\r\n    componentDidMount() {\r\n        this.update();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.update();\r\n    }\r\n\r\n    update() {\r\n        if(!this.props.currentUser || !this.props.updateTemplates) return null;\r\n\r\n        const { updateTemplates, currentUser } = this.props;\r\n        const templatesRef = firestore.collection('workoutTemplates').where('user', '==', firestore.doc(`/users/${currentUser.id}`));\r\n        this.unsubscribeFromSnapshot = templatesRef.get().then(snapshot => {\r\n            const templatesMap = convertTemplatesSnapshotToMap(snapshot);\r\n            updateTemplates(templatesMap);\r\n            if(this.state.loading){\r\n                this.setState({\r\n                    loading: false\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { match } = this.props;\r\n        const { loading } = this.state;\r\n        return (\r\n            <div className='templates'>\r\n                <Route exact path={`${match.path}`} render={props => <TemplatesOverviewWithLoading isLoading={loading} {...props} /> } />\r\n                <Route exact path={`${match.path}/:templateName`} render={props => <ReviewTemplateWithLoading isLoading={loading} {...props} /> } />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    updateTemplates: templates => dispatch(updateTemplates(templates))\r\n})\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(TemplatesPage));","import React from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './App.css';\r\n\r\nimport { setCurrentUser } from './redux/user/user-actions';\r\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\r\nimport { selectCurrentUser } from './redux/user/user-selectors';\r\n\r\nimport WithLoading from './components/with-loading/with-loading.component';\r\n\r\nimport Header from './components/header/header.component';\r\nimport Homepage from './pages/homepage/homepage.component';\r\nimport ExerciseAtlasPage from './pages/exercise-atlas/exercise-atlas.component';\r\nimport SignInSignUpPage from './pages/sign-in-sign-up/sign-in-sign-up.component';\r\nimport StartWorkoutPage from './pages/start-workout/start-workout.component';\r\nimport DashboardPage from './pages/dashboard/dashboard.component';\r\nimport WorkoutsPage from './pages/workouts/workouts.component';\r\nimport TemplatesPage from './pages/templates/templates.component';\r\n\r\nconst DashboardPageWithLoading = WithLoading(DashboardPage);\r\nconst SignInSignUpPageWithLoading = WithLoading(SignInSignUpPage);\r\nconst HomepageWithLoading = WithLoading(Homepage);\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    loading: true,\r\n    signInLoading: false,\r\n    currentUser: null\r\n  }\r\n\r\n  unsubscribeFromAuth = null;\r\n\r\n  componentDidMount() {\r\n    const { setCurrentUser } = this.props;\r\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\r\n      if(userAuth) {\r\n        const userRef = await createUserProfileDocument(userAuth);\r\n\r\n        userRef.onSnapshot(snapshot => {\r\n          setCurrentUser({\r\n            id: snapshot.id,\r\n            ...snapshot.data()\r\n          })\r\n        });\r\n      }\r\n      setCurrentUser(userAuth);\r\n    });\r\n  }\r\n\r\n  static getDerivedStateFromProps(props) {\r\n    if(props.currentUser) {\r\n      if(props.currentUser.displayName) {\r\n        return {\r\n          ...props,\r\n          loading: false\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeFromAuth();\r\n  }\r\n\r\n  loadSignIn(arg) {\r\n    this.setState({\r\n      signInLoading: arg\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { loading, currentUser, signInLoading } = this.state;\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Switch>\r\n          <Route exact path='/' render={() => this.props.currentUser ? (<Redirect to='/dashboard' />) : (<HomepageWithLoading isLoading={this.props.currentUser} />)} /> \r\n          <Route exact path='/dashboard' component={props => <DashboardPageWithLoading isLoading={loading} currentUser={currentUser} {...props} />} />\r\n          <Route path='/atlas' render={props => <ExerciseAtlasPage currentUser={currentUser} {...props} /> } />\r\n          <Route exact path='/sign-in' render={() => this.props.currentUser ? (<Redirect to='/dashboard' />) : (<SignInSignUpPageWithLoading isLoading={signInLoading} signingIn={arg => this.loadSignIn(arg)}/>)} />\r\n          <Route path='/start-workout' render={props => <StartWorkoutPage currentUser={currentUser} {...props} />} />\r\n          <Route path='/workouts' render={props => <WorkoutsPage currentUser={currentUser} {...props} />} />\r\n          <Route path='/templates' render={props => <TemplatesPage currentUser={currentUser} {...props} />} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: selectCurrentUser(state)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setCurrentUser: user => dispatch(setCurrentUser(user))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import { UserActionTypes } from './user-action-types';\r\n\r\nexport const setCurrentUser = user => ({\r\n    type: UserActionTypes.SET_CURRENT_USER,\r\n    payload: user\r\n});","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\nimport { store, persistor } from './redux/store';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <BrowserRouter>\r\n            <PersistGate persistor={persistor}>\r\n                <App />\r\n            </PersistGate>\r\n        </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\nserviceWorker.register();\r\n"],"sourceRoot":""}