(this.webpackJsonpgymbud=this.webpackJsonpgymbud||[]).push([[0],Array(45).concat([function(e,t,n){e.exports=n(102)},,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),o=n.n(c),s=n(9),i=n(1),u=n(42),l=n(16),m=n(27),d=(n(54),n(43)),p=n.n(d),h=n(35),f=n(11),v="SET_CURRENT_USER",E={currentUser:null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(f.a)({},e,{currentUser:t.payload});default:return e}},g=n(31),k="TOGGLE_DROPDOWN_HIDDEN",w="HIDE_DROPDOWN",O="ADD_EXERCISE_SET",y="ADD_EXERCISE",j="CLEAR_EXERCISE",N="REMOVE_EXERCISE_SET",x="CLEAR_WORKOUT",C="UPDATE_EXERCISES",S=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?Object(f.a)({},e,{sets:e.sets+1}):e})):[].concat(Object(g.a)(e),[Object(f.a)({},t,{sets:1})])},T=function(e,t){return 1===e.find((function(e){return e.id===t.id})).sets?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?Object(f.a)({},e,{sets:e.sets-1}):e}))},A={workoutName:"",id:"",hidden:!0,exercises:[]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(f.a)({},e,{hidden:!e.hidden});case w:return Object(f.a)({},e,{hidden:!0});case O:return Object(f.a)({},e,{exercises:S(e.exercises,t.payload),hidden:!!e.exercises.length&&e.hidden});case y:return Object(f.a)({},e,{exercises:[].concat(Object(g.a)(e.exercises),[Object(f.a)({},t.payload)]),hidden:!!e.exercises.length&&e.hidden});case j:return Object(f.a)({},e,{exercises:e.exercises.filter((function(e){return e!==t.payload}))});case N:return Object(f.a)({},e,{exercises:T(e.exercises,t.payload)});case x:return Object(f.a)({},e,{workoutName:"",id:"",exercises:[]});case C:return Object(f.a)({},e,{exercises:t.payload.exercises,workoutName:t.payload.workoutName,id:t.payload.id});default:return e}},U="UPDATE_ATLAS",D={categories:null},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(f.a)({},e,{categories:t.payload});default:return e}},I="UPDATE_TEMPLATES",L="UPDATE_TEMPLATE_BY_ID",P={workoutTemplates:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(f.a)({},e,{workoutTemplates:t.payload});case L:return{workoutTemplates:Object.keys(e.workoutTemplates).map((function(t){return e.workoutTemplates[t]})).map((function(e){return e.id===t.payload.id?t.payload:e}))};default:return e}},M="UPDATE_CURRENT_WORKOUT",_="CLEAR_CURENT_WORKOUT",K={currentWorkout:null},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{currentWorkout:t.payload};case _:return{currentWorkout:null};default:return e}},H="UPDATE_WORKOUTS",F="UPDATE_WORKOUT_BY_ID",G={workouts:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(f.a)({},e,{workouts:t.payload});case F:return{workouts:Object.keys(e.workouts).map((function(t){return e.workouts[t]})).map((function(e){return e.id===t.payload.id?t.payload:e}))};default:return e}},$=Object(m.a)((function(e,t){return h.a.stringify(e)}),(function(e,t){return h.a.parse(e)})),X={key:"root",storage:p.a,whitelist:["chosenExercises","currentWorkout"],transforms:[$]},Y=Object(l.c)({user:b,chosenExercises:W,atlas:R,workoutTemplates:B,currentWorkout:z,workouts:q}),V=Object(m.b)(X,Y);var J=Object(l.e)(V,l.a.apply(void 0,[])),Q=Object(m.c)(J),Z=(n(57),n(8)),ee=n.n(Z),te=n(3),ne=n(4),ae=n(6),re=n(5),ce=n(7),oe=n(23),se=(n(59),n(25)),ie=n.n(se),ue=(n(60),n(64),function(e,t){var n,a,r,c;return ee.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e){o.next=2;break}return o.abrupt("return");case 2:return n=he.doc("users/".concat(e.uid)),o.next=5,ee.a.awrap(n.get());case 5:if(o.sent.exists){o.next=17;break}return a=e.displayName,r=e.email,c=new Date,o.prev=9,o.next=12,ee.a.awrap(n.set(Object(f.a)({displayName:a,email:r,createdAt:c},t)));case 12:o.next=17;break;case 14:o.prev=14,o.t0=o.catch(9),console.log(o.t0);case 17:return o.abrupt("return",n);case 18:case"end":return o.stop()}}),null,null,[[9,14]])}),le=function(e,t){var n,a;return ee.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=he.collection(e),a=n.doc(t.id),r.prev=2,r.next=5,ee.a.awrap(a.set(t));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),console.log(r.t0);case 10:case"end":return r.stop()}}),null,null,[[2,7]])},me=function(e,t){var n,a;return ee.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=he.collection(e),a=n.doc(),r.prev=2,r.next=5,ee.a.awrap(a.set(t));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),console.log(r.t0);case 10:case"end":return r.stop()}}),null,null,[[2,7]])},de=function(e){return e.docs.map((function(e){var t=e.data(),n=t.workoutName,a=t.exercises,r=t.user;return{id:e.id,user:r,workoutName:n,exercises:a}})).reduce((function(e,t){return e[t.id]=t,e}),{})};ie.a.initializeApp({apiKey:"AIzaSyDflCBgvAKyAFLSIkRLk5qsSnf03YKtMO4",authDomain:"gymbud-f0070.firebaseapp.com",databaseURL:"https://gymbud-f0070.firebaseio.com",projectId:"gymbud-f0070",storageBucket:"gymbud-f0070.appspot.com",messagingSenderId:"930682556594",appId:"1:930682556594:web:cdc94bffa9532b43d579ab"});var pe=ie.a.auth(),he=ie.a.firestore(),fe=new ie.a.auth.GoogleAuthProvider;fe.setCustomParameters({prompt:"select_account"});ie.a;var ve=n(13),Ee=Object(ve.a)([function(e){return e.user}],(function(e){return e.currentUser})),be=n(14),ge=(n(66),function(e){return function(t){var n=t.isLoading,a=Object(be.a)(t,["isLoading"]);return n?r.a.createElement("div",{className:"lds-container"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):r.a.createElement(e,a)}});function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Oe=r.a.createElement("path",{d:"m371.303 225.613c-37.648-.139-73.087 14.435-99.758 41.014-2.266 2.258-4.444 4.579-6.536 6.96-20.378-14.021-44.622-21.608-69.729-21.608-23.198 0-45.763 6.597-65.139 18.657v-117.56h87.604v-78.571c.001-41.082-33.422-74.505-74.504-74.505h-97.833l-3.36 10.381c-38.443 118.774-58.75 311.268-23.18 449.367l1.938 7.521 7.261 2.759c67.445 25.625 144.18 39.616 228.074 41.586 6.563.154 13.151.23 19.784.23 73.155-.001 150.186-9.347 224.039-27.26l11.465-2.78v-114.206c0-78.023-62.86-141.717-140.126-141.985zm110.126 232.523c-155.617 35.725-313.152 30.876-435.386-13.434-30.567-127.985-13.003-301.718 21.294-414.702h75.904c23.821 0 43.327 18.812 44.45 42.36h-37.789v-17.638h-30v47.638h67.843v20.716h-87.604v218.273l26.109-28.778c17.639-19.442 42.799-30.593 69.03-30.593 18.874 0 37.095 5.66 52.435 16.127-11.446 20.608-17.53 43.897-17.53 68.129h30.001c0-29.621 11.555-57.449 32.536-78.358 20.889-20.816 48.603-32.264 78.083-32.264.131 0 .265 0 .395.001 60.78.21 110.229 50.446 110.229 111.984z"}),ye=r.a.createElement("path",{d:"m329.251 189.924h84.003v-59.883h47.683l-89.685-105.111-89.684 105.11h47.683zm42.001-118.774 24.651 28.891h-12.649v59.883h-24.003v-59.883h-12.649z"}),je=function(e){var t=e.svgRef,n=e.title,a=we(e,["svgRef","title"]);return r.a.createElement("svg",ke({id:"Capa_1",enableBackground:"new 0 0 511.845 511.845",height:60,viewBox:"0 0 511.845 511.845",width:60,ref:t},a),n?r.a.createElement("title",null,n):null,Oe,ye)},Ne=r.a.forwardRef((function(e,t){return r.a.createElement(je,ke({svgRef:t},e))})),xe=(n.p,function(){return{type:k}}),Ce=function(){return{type:w}},Se=function(e){return{type:O,payload:e}},Te=function(){return{type:x}},Ae=function(e){return{type:C,payload:e}},We=function(e){return e.chosenExercises},Ue=Object(ve.a)([We],(function(e){return e.exercises})),De=Object(ve.a)([We],(function(e){return e.workoutName})),Re=Object(ve.a)([Ue],(function(e){return e.length})),Ie=Object(ve.a)([Ue],(function(e){return e.reduce((function(e,t){return t.sets?e+t.sets:e}),0)})),Le=Object(ve.a)([We],(function(e){return e.id}));function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Me=r.a.createElement("path",{d:"M11.688,181.115c-0.641,0-1.281-0.245-1.768-0.732l-9.188-9.188c-0.943-0.943-0.979-2.459-0.084-3.447l13.332-14.699 l-9.001-9.001c-2.364-2.364-2.364-6.21,0-8.574l7.404-7.404c0.255-0.255,0.527-0.484,0.816-0.687l-4.397-4.397 c-2.363-2.364-2.363-6.209-0.001-8.573l10.66-10.659c1.146-1.146,2.668-1.776,4.287-1.776s3.142,0.631,4.287,1.776l17.536,17.536 l75.716-75.716l-17.536-17.536c-1.146-1.145-1.776-2.667-1.776-4.287s0.631-3.142,1.776-4.287l10.659-10.659 c1.146-1.146,2.668-1.776,4.287-1.776c1.618,0,3.141,0.63,4.286,1.775l4.398,4.399c0.201-0.288,0.43-0.562,0.686-0.818l7.404-7.404 c1.146-1.146,2.668-1.776,4.287-1.776s3.143,0.631,4.287,1.777l9.001,9l14.699-13.332c0.988-0.895,2.506-0.859,3.447,0.084 l9.188,9.188c0.943,0.943,0.979,2.459,0.084,3.447l-13.332,14.699l9.001,9.001c2.364,2.364,2.364,6.21,0,8.574l-7.404,7.404 c-0.255,0.255-0.527,0.484-0.816,0.687l4.397,4.397c2.363,2.364,2.363,6.209,0.001,8.573l-10.66,10.659 c-1.146,1.146-2.668,1.776-4.287,1.776s-3.142-0.631-4.287-1.776l-17.536-17.536l-75.716,75.716l17.536,17.536 c1.146,1.145,1.776,2.667,1.776,4.287s-0.631,3.142-1.776,4.287l-10.659,10.659c-1.146,1.146-2.668,1.776-4.287,1.776 c-1.618,0-3.141-0.63-4.286-1.775l-4.398-4.399c-0.201,0.288-0.43,0.562-0.686,0.818l-7.404,7.404 c-1.146,1.146-2.668,1.776-4.287,1.776s-3.143-0.631-4.287-1.777l-9.001-9l-14.699,13.332 C12.891,180.9,12.289,181.115,11.688,181.115z M5.951,169.342l5.821,5.821l12.755-11.568l-7.008-7.008L5.951,169.342z  M16.671,131.292c-0.164,0-0.48,0.04-0.752,0.311l-7.404,7.404c-0.414,0.415-0.414,1.089,0,1.503l32.09,32.089 c0.271,0.271,0.587,0.312,0.751,0.312s0.48-0.041,0.752-0.312l7.404-7.405c0.411-0.412,0.414-1.083,0.006-1.497l-32.096-32.096 C17.15,131.332,16.835,131.292,16.671,131.292z M42.103,149.214l19.563,19.563c0.271,0.271,0.587,0.311,0.751,0.311 c0.165,0,0.481-0.041,0.752-0.312l10.659-10.659c0.271-0.271,0.312-0.587,0.312-0.751s-0.041-0.48-0.312-0.751L24.5,107.287 c-0.271-0.271-0.587-0.311-0.751-0.311c-0.165,0-0.481,0.041-0.752,0.312l-10.659,10.659c-0.414,0.414-0.414,1.088,0.001,1.503 L42.103,149.214z M49.107,124.823l7.185,7.185l75.716-75.716l-7.185-7.185L49.107,124.823z M118.698,12.027 c-0.165,0-0.481,0.041-0.752,0.312l-10.659,10.659c-0.271,0.271-0.312,0.587-0.312,0.751s0.041,0.48,0.312,0.751l49.328,49.328 c0.271,0.271,0.587,0.311,0.751,0.311c0.165,0,0.481-0.041,0.752-0.312l10.659-10.659c0.414-0.414,0.414-1.088-0.001-1.503 l-49.327-49.328C119.179,12.068,118.862,12.027,118.698,12.027z M142.547,28.365l21.146,21.146c0.271,0.271,0.587,0.312,0.751,0.312 s0.48-0.041,0.752-0.312l7.404-7.404c0.414-0.415,0.414-1.089,0-1.503l-32.09-32.089c-0.271-0.271-0.587-0.312-0.751-0.312 s-0.48,0.041-0.752,0.312l-7.404,7.405c-0.411,0.412-0.414,1.083-0.006,1.497L142.547,28.365z M156.588,17.52l7.008,7.008 l11.568-12.755l-5.821-5.821L156.588,17.52z"}),_e=r.a.createElement("g",null),Ke=r.a.createElement("g",null),ze=r.a.createElement("g",null),He=r.a.createElement("g",null),Fe=r.a.createElement("g",null),Ge=r.a.createElement("g",null),qe=r.a.createElement("g",null),$e=r.a.createElement("g",null),Xe=r.a.createElement("g",null),Ye=r.a.createElement("g",null),Ve=r.a.createElement("g",null),Je=r.a.createElement("g",null),Qe=r.a.createElement("g",null),Ze=r.a.createElement("g",null),et=r.a.createElement("g",null),tt=function(e){var t=e.svgRef,n=e.title,a=Be(e,["svgRef","title"]);return r.a.createElement("svg",Pe({id:"Capa_1",x:"0px",y:"0px",width:"25px",height:"25px",viewBox:"0 0 181.115 181.115",style:{enableBackground:"new 0 0 181.115 181.115"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,Me,_e,Ke,ze,He,Fe,Ge,qe,$e,Xe,Ye,Ve,Je,Qe,Ze,et)},nt=r.a.forwardRef((function(e,t){return r.a.createElement(tt,Pe({svgRef:t},e))})),at=(n.p,n(67),Object(i.b)((function(e){return{exerciseCount:Re(e)}}),(function(e){return{toggleDropdownHidden:function(){return e(xe())}}}))((function(e){var t=e.toggleDropdownHidden,n=e.exerciseCount;return r.a.createElement("div",{className:"chosen-exercises-icon",onClick:t},r.a.createElement(nt,{className:"exercises-icon"}),r.a.createElement("span",{className:"exercise-count"},n))}))),rt=(n(68),function(e){var t=e.children,n=e.inverted,a=e.isGoogleSignIn,c=Object(be.a)(e,["children","inverted","isGoogleSignIn"]);return r.a.createElement("button",Object.assign({className:"".concat(a?"google-sign-in":""," ").concat(n?"inverted":""," custom-button")},c),t)}),ct=(n(69),function(e){var t=e.exercise,n=t.name,a=t.sets,c=t.type;return r.a.createElement("div",{className:"chosen-exercise-item"},r.a.createElement("p",{className:"name"},n),"aerobic"!==c?r.a.createElement("p",{className:"set-count"},a," ",1===a?"set":"sets"):"")}),ot=(n(70),Object(l.d)(oe.g,Object(i.b)((function(e){return{exercises:Ue(e)}})))((function(e){var t=e.exercises,n=e.history,a=(e.location,e.dispatch),c=e.offset;return r.a.createElement("div",{className:"".concat(c?"offset":""," chosen-exercises-dropdown")},r.a.createElement("div",{className:"exercises"},t.length?t.map((function(e,t){return r.a.createElement(ct,{key:"aerobic"===e.type?e.id+t:e.id,exercise:e})})):r.a.createElement("span",null,"Add exercises from atlas")),r.a.createElement(rt,{onClick:function(){a(xe()),n.push("/atlas/review-template")}},"PROCEED"),r.a.createElement(rt,{inverted:!0,onClick:function(){a(Te()),a(xe())}},"CLEAR"))}))),st=(n(72),Object(oe.g)((function(e){var t=e.history,n=(e.location,e.currentUser),a=e.clearWorkout;return r.a.createElement("div",{className:"header-dropdown"},n?r.a.createElement("div",{className:"dropdown-content"},r.a.createElement(s.b,{className:"dropdown-option",to:"/dashboard"},"DASHBOARD"),r.a.createElement(s.b,{className:"dropdown-option",to:"/workouts"},"WORKOUTS"),r.a.createElement(s.b,{className:"dropdown-option",to:"/templates"},"TEMPLATES"),r.a.createElement("div",{className:"dropdown-option",onClick:function(){a(),t.push("/atlas")}},"NEW TEMPLATE"),r.a.createElement(s.b,{className:"dropdown-option",to:"/start-workout"},"START WORKOUT"),r.a.createElement("div",{className:"dropdown-option",onClick:function(){return ee.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.a.awrap(pe.signOut());case 2:t.push("/");case 3:case"end":return e.stop()}}))}},"SIGN OUT")):r.a.createElement("div",{className:"dropdown-content"},r.a.createElement("span",null,"Log in to access your workouts"),r.a.createElement(s.b,{className:"dropdown-option",to:"/sign-in"},"SIGN IN")))}))),it=(n(73),function(e){function t(){var e;return Object(te.a)(this,t),(e=Object(ae.a)(this,Object(re.a)(t).call(this))).handleResize=function(){e.setState({width:window.innerWidth,showItems:!(window.innerWidth>=940)&&e.state.showItems})},e.toggleItems=function(){e.setState({showItems:!e.state.showItems})},e.state={width:window.innerWidth,showItems:!1},e}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&(this.setState({showItems:!1}),this.props.hideDropdown())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.location,a=e.history,c=e.clearWorkout,o=e.hidden;return r.a.createElement("div",{className:"header"},r.a.createElement(s.b,{className:"logo-container",to:"/"},r.a.createElement(Ne,{className:"header-logo"})),this.state.width<=940?r.a.createElement("div",{className:"options"},n.pathname.includes("atlas")&&!n.pathname.includes("review")?r.a.createElement(at,null):null,r.a.createElement("span",{className:"toggle-items-button",onClick:this.toggleItems},"\u2261")):r.a.createElement("div",{className:"options"},t?r.a.createElement("div",{className:"logged-in"},r.a.createElement(s.b,{className:"option",to:"/dashboard"},"DASHBOARD"),r.a.createElement(s.b,{className:"option",to:"/workouts"},"WORKOUTS"),r.a.createElement(s.b,{className:"option",to:"/templates"},"TEMPLATES"),r.a.createElement("div",{className:"option",onClick:function(){c(),a.push("/atlas")}},"NEW TEMPLATE"),r.a.createElement(s.b,{className:"option",to:"/start-workout"},"START WORKOUT"),n.pathname.includes("atlas")&&!n.pathname.includes("review")?r.a.createElement(at,null):null):null,t?r.a.createElement("div",{className:"option",onClick:function(){return ee.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.a.awrap(pe.signOut());case 2:a.push("/");case 3:case"end":return e.stop()}}))}},"SIGN OUT"):r.a.createElement(s.b,{className:"option",to:"/sign-in"},"SIGN IN")),this.state.showItems?r.a.createElement(st,{currentUser:t,clearWorkout:c}):null,o?null:r.a.createElement(ot,{offset:this.state.showItems}))}}]),t}(r.a.Component)),ut=Object(oe.g)(Object(i.b)((function(e){return{currentUser:Ee(e),hidden:e.chosenExercises.hidden}}),(function(e){return{clearWorkout:function(){return e(Te())},hideDropdown:function(){return e(Ce())}}}))(it)),lt=(n(74),Object(oe.g)((function(e){var t=e.history;return r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"WELCOME TO GYMBUD"),r.a.createElement("h3",null,"THE PROGRESSIVE WEB APP FOR MANAGING YOUR WORKOUTS!")),r.a.createElement("div",{className:"actions"},r.a.createElement("h3",null,"CREATE ACCOUNT OR SIGN IN"),r.a.createElement(rt,{onClick:function(){return t.push("/sign-in")}},"SIGN IN")))}))),mt=(n(75),Object(oe.g)((function(e){var t=e.title,n=e.history,a=e.match,c=e.routeName;return r.a.createElement("div",{className:"category-item",onClick:function(){return n.push("".concat(a.url,"/").concat(c))}},r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},t.toUpperCase())))}))),dt=Object(ve.a)([function(e){return e.atlas}],(function(e){return e.categories})),pt=Object(ve.a)([dt],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),ht=(n(76),Object(i.b)((function(e){return{categories:pt(e)}}))((function(e){var t=e.categories,n=e.history;return r.a.createElement("div",{className:"atlas-overview-container"},r.a.createElement("h1",null,"Find your exercise"),r.a.createElement("h4",null,"Choose a body part to view exercises that train it"),r.a.createElement("div",{className:"atlas-overview"},t.map((function(e){var t=e.id,n=Object(be.a)(e,["id"]);return r.a.createElement(mt,Object.assign({key:t},n))}))),r.a.createElement("div",{className:"back-button-container"},r.a.createElement(rt,{inverted:!0,onClick:function(){return n.goBack()}},"BACK")))}))),ft=(n(77),Object(i.b)(null,(function(e){return{addExerciseSet:function(t){return e(Se(t))},addExercise:function(t){return e(function(e){return{type:y,payload:e}}(t))}}}))((function(e){var t=e.exercise,n=e.addExerciseSet,a=e.addExercise,c=t.name,o=t.difficulty,s=t.type;return"weighted"===s||"bodyweight"===s?r.a.createElement("div",{className:"exercise-item"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},c[0].toUpperCase()+c.slice(1)),r.a.createElement(rt,{inverted:!0,onClick:function(){return n(t)}},"ADD SET"),r.a.createElement("div",{className:"footer"},"Difficulty: ",o))):r.a.createElement("div",{className:"exercise-item"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},c[0].toUpperCase()+c.slice(1)),r.a.createElement(rt,{inverted:!0,onClick:function(){return a(t)}},"ADD"),r.a.createElement("div",{className:"footer"},"Difficulty: ",o)))}))),vt=(n(78),Object(i.b)((function(e,t){return{category:(n=t.match.params.title,Object(ve.a)([pt],(function(e){return e?e.find((function(e){return e.routeName===n})):null})))(e)};var n}))((function(e){var t=e.category,n=e.history;return r.a.createElement("div",{className:"atlas-category-container"},r.a.createElement("h1",null,t.title[0].toUpperCase()+t.title.slice(1)," exercises"),r.a.createElement("h4",null,"Click on the button in the exercise box to add a set of it to your workout template"),r.a.createElement("div",{className:"atlas-category"},t.exercises.map((function(e){return r.a.createElement(ft,{key:e.id,exercise:e})}))),r.a.createElement("div",{className:"back-button-container"},r.a.createElement(rt,{inverted:!0,onClick:function(){return n.goBack()}},"BACK")))}))),Et=n(12),bt=(n(79),function(e){var t=e.handleChange,n=e.label,a=Object(be.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},a)),n?r.a.createElement("label",{className:"".concat(a.value.length?"shrink":""," form-input-label")},n):null)}),gt=function(){return{type:_}},kt=(n(80),Object(oe.g)(Object(i.b)(null,(function(e){return{clearCurrentWorkout:function(){return e(gt())}}}))((function(e){var t=e.isCurrent,n=e.workoutName,a=e.history,c=e.clearCurrentWorkout;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup-inner"},r.a.createElement("h1",null,n," SAVED!"),r.a.createElement(rt,{onClick:function(){t?(c(),a.push("/dashboard")):a.push("/workouts")}},"Done")))})))),wt=(n(81),Object(i.b)(null,(function(e){return{clearExercise:function(t){return e(function(e){return{type:j,payload:e}}(t))},addExerciseSet:function(t){return e(Se(t))},removeExerciseSet:function(t){return e(function(e){return{type:N,payload:e}}(t))}}}))((function(e){var t=e.exercise,n=e.clearExercise,a=e.addExerciseSet,c=e.removeExerciseSet,o=(e.onDelete,t.name),s=t.sets;return r.a.createElement("div",{className:"review-template-item"},r.a.createElement("span",{className:"name"},o),s?r.a.createElement("span",{className:"sets"},r.a.createElement("div",{className:"arrow",onClick:function(){return c(t)}},"\u276e"),r.a.createElement("span",{className:"value"},s),r.a.createElement("div",{className:"arrow",onClick:function(){return a(t)}},"\u276f")):r.a.createElement("span",{className:"sets"}),r.a.createElement("div",{className:"remove-button",onClick:function(){return n(t)}},"\u2715"))}))),Ot=(n(82),function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(Et.a)({},r,a))},n.deleteExercise=function(e){n.setState({exercises:n.state.exercises.filter((function(t){return t.id===e.id}))})},n.addExercises=function(){var e,t,a,r,c,o,s;return ee.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:e=n.props,t=e.history,a=e.updateExercises,r=n.state,c=r.id,o=r.workoutName,s=r.exercises,a({id:c,workoutName:o,exercises:s}),t.push("/atlas");case 4:case"end":return i.stop()}}))},n.saveAndStart=function(){var e=n.props.history,t=n.state.workoutName;n.addWorkoutTemplate(),e.push("/start-workout/".concat(t))},n.saveAndBack=function(){var e=n.props.history;n.addWorkoutTemplate(),e.push("/templates")},n.discardAndBack=function(){var e=n.props,t=e.history;(0,e.clearWorkout)(),t.goBack()},n.addWorkoutTemplate=function(){var e=n.state,t=e.exercises,a=e.id,r=e.workoutName,c=he.doc("/users/".concat(n.props.currentUser.id)),o=t.map((function(e){var t=e.name,n=e.sets,a=e.type,r=e.id;return n?{name:t,sets:n,type:a,id:r}:{name:t,type:a,id:r}}));console.log(o),a?le("workoutTemplates",{exercises:o,user:c,workoutName:r,id:a}):me("workoutTemplates",{exercises:o,user:c,workoutName:r})},n.handleSubmit=function(e){if(e.preventDefault(),!n.state.exercises.length)return n.setState({noExercises:!0}),null;!0===n.state.start?n.saveAndStart():!1===n.state.start&&n.saveAndBack()},n.state={id:"",workoutName:"",exercises:null,start:null,noExercises:!1},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.exercises,a=t.totalExercises,c=t.totalSets,o=t.noExercises;return r.a.createElement("div",null,o?r.a.createElement("div",{className:"review-popup"},r.a.createElement("div",{className:"review-popup-inner"},r.a.createElement("h3",null,"Workout must have at least one exercise!"),r.a.createElement(rt,{onClick:function(){return e.setState({noExercises:!1})}},"OK"))):r.a.createElement("div",{className:"review-template"},r.a.createElement("form",{onSubmit:this.handleSubmit,id:"review-template-form"},r.a.createElement(bt,{required:!0,onChange:this.handleChange,name:"workoutName",label:"Workout name",value:this.state.workoutName})),r.a.createElement("div",{className:"review-template-header"},r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Exercise")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Sets")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Actions"))),n.map((function(e,t){return r.a.createElement(wt,{key:"aerobic"===e.type?e.id+t:e.id,exercise:e})})),r.a.createElement("div",{className:"total"},r.a.createElement("span",null,"Exercises: ",a),r.a.createElement("span",null,"Total sets: ",c)),r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"action"},r.a.createElement(rt,{onClick:function(){return e.addExercises()}},"ADD EXERCISES"),r.a.createElement("span",null,"Add more exercises to the template")),r.a.createElement("div",{className:"action"},r.a.createElement(rt,{type:"submit",form:"review-template-form",onClick:function(){return e.setState({start:!0})}},"START WORKOUT"),r.a.createElement("span",null,"Save template and start workout now")),r.a.createElement("div",{className:"action"},r.a.createElement(rt,{type:"submit",form:"review-template-form",onClick:function(){return e.setState({start:!1})}},"SAVE WORKOUT"),r.a.createElement("span",null,"Save template and go back")),r.a.createElement("div",{className:"action"},r.a.createElement(rt,{inverted:!0,onClick:function(){return e.discardAndBack()}},"DISCARD"),r.a.createElement("span",null,"Discard changes and go back")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.exercises&&e.exercises!==t.exercises?t.workoutName?{exercises:e.exercises}:e:null}}]),t}(r.a.Component)),yt=Object(l.d)(oe.g,Object(i.b)((function(e){return{exercises:Ue(e),workoutName:De(e),totalExercises:Re(e),totalSets:Ie(e),id:Le(e),currentUser:Ee(e)}}),(function(e){return{clearWorkout:function(){return e(Te())},updateExercises:function(t){return e(Ae(t))}}})))(Ot),jt=(n(83),ge(ht)),Nt=ge(vt),xt=ge(yt),Ct=function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},n.unsubscribeFromSnapshot=null,n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.updateAtlas,n=he.collection("atlas");this.unsubscribeFromSnapshot=n.get().then((function(n){var a;return ee.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.docs.map((function(e){var t=e.data(),n=t.title,a=t.exercises;return{routeName:encodeURI(n.toLowerCase()),id:e.id,title:n,exercises:a}})).reduce((function(e,t){return e[t.title.toLowerCase()]=t,e}),{}),r.next=3,ee.a.awrap(t(a));case 3:e.setState({loading:!1});case 4:case"end":return r.stop()}}))}))}},{key:"componentWillUnmount",value:function(){this.props.hideDropdown()}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.currentUser,a=this.state.loading;return r.a.createElement("div",{className:"exercise-atlas"},r.a.createElement(oe.b,{exact:!0,path:"".concat(t.path),render:function(e){return r.a.createElement(jt,Object.assign({isLoading:a},e))}}),r.a.createElement(oe.d,null,r.a.createElement(oe.b,{exact:!0,path:"".concat(t.path,"/review-template"),render:function(e){return r.a.createElement(xt,Object.assign({currentUser:n},e))}}),r.a.createElement(oe.b,{exact:!0,path:"".concat(t.path,"/:title"),render:function(e){return r.a.createElement(Nt,Object.assign({isLoading:a},e))}})))}}]),t}(r.a.Component),St=Object(i.b)(null,(function(e){return{updateAtlas:function(t){return e(function(e){return{type:U,payload:e}}(t))},hideDropdown:function(){return e(Ce())},clearWorkout:function(){return e(Te())}}}))(Ct),Tt=(n(84),function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleSubmit=function(e){var t,a,r;return ee.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),t=n.state,a=t.email,r=t.password,c.prev=2,c.next=5,ee.a.awrap(pe.signInWithEmailAndPassword(a,r));case 5:n.setState({email:"",password:""}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(2),console.log(c.t0);case 11:case"end":return c.stop()}}),null,null,[[2,8]])},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(Et.a)({},r,a))},n.state={email:"",password:""},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sign-in"},r.a.createElement("h2",null,"I already have an account"),r.a.createElement("span",null,"Sign in with your email and password"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(bt,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"email",required:!0}),r.a.createElement(bt,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"password",required:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(rt,{type:"submit"},"Sign in"),r.a.createElement(rt,{type:"button",isGoogleSignIn:!0,onClick:function(){pe.signInWithPopup(fe).catch((function(){return e.props.onSignIn(!1)})).then((function(){return e.props.onSignIn(!1)})),e.props.onSignIn(!0)}},"Sign in with Google"))))}}]),t}(r.a.Component)),At=(n(85),function(e){function t(){var e;return Object(te.a)(this,t),(e=Object(ae.a)(this,Object(re.a)(t).call(this))).handleSubmit=function(t){var n,a,r,c,o,s,i;return ee.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t.preventDefault(),n=e.state,a=n.displayName,r=n.email,c=n.password,o=n.confirmPassword,c===o){u.next=5;break}return alert("Passwords don't match!"),u.abrupt("return");case 5:return u.prev=5,u.next=8,ee.a.awrap(pe.createUserWithEmailAndPassword(r,c));case 8:return s=u.sent,i=s.user,u.next=12,ee.a.awrap(ue(i,{displayName:a}));case 12:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),u.next=18;break;case 15:u.prev=15,u.t0=u.catch(5),console.log(u.t0);case 18:case"end":return u.stop()}}),null,null,[[5,15]])},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(Et.a)({},a,r))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,a=e.password,c=e.confirmPassword;return r.a.createElement("div",{className:"sign-up"},r.a.createElement("h2",{className:"title"},"I do not have an account"),r.a.createElement("span",null,"Sign up with your email and password"),r.a.createElement("form",{className:"sign-up-form",onSubmit:this.handleSubmit},r.a.createElement(bt,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),r.a.createElement(bt,{type:"email",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),r.a.createElement(bt,{type:"password",name:"password",value:a,onChange:this.handleChange,label:"Password",required:!0}),r.a.createElement(bt,{type:"password",name:"confirmPassword",value:c,onChange:this.handleChange,label:"Confirm password",required:!0}),r.a.createElement(rt,{type:"submit"},"SIGN UP")))}}]),t}(r.a.Component)),Wt=(n(86),function(e){var t=e.signingIn;return r.a.createElement("div",{className:"sign-in-sign-up"},r.a.createElement(Tt,{onSignIn:function(e){return t(e)}}),r.a.createElement(At,null))}),Ut=function(e){return{type:I,payload:e}},Dt=(n(87),Object(oe.g)((function(e){var t=e.workoutName,n=e.exercises,a=e.history;return r.a.createElement("div",{className:"start-workout-item"},r.a.createElement("h1",null,t||"..."),r.a.createElement("div",{className:"buttons"},r.a.createElement(rt,{onClick:function(){return a.push("/start-workout/".concat(t))}},"START")),r.a.createElement("div",{className:"details"},r.a.createElement("h3",null,"Exercises:",n?" "+n.map((function(e){return" "+e.name})):"...")))}))),Rt=Object(ve.a)([function(e){return e.workoutTemplates}],(function(e){return e.workoutTemplates})),It=Object(ve.a)([Rt],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),Lt=(n(88),Object(oe.g)(Object(i.b)((function(e){return{workoutTemplates:It(e)}}))((function(e){var t=e.workoutTemplates,n=e.history;return r.a.createElement("div",{className:"start-workout-overview"},r.a.createElement("h1",null,"Choose workout template"),r.a.createElement("h4",null,"Click start next to the workout you want to start"),t?t.map((function(e){var t=e.id,n=Object(be.a)(e,["id"]);return r.a.createElement(Dt,Object.assign({key:t},n))})):"...",r.a.createElement("h2",null,"...or create a new one"),r.a.createElement("div",{className:"start-workout-actions"},r.a.createElement(rt,{onClick:function(){return n.push("/atlas")}},"NEW TEMPLATE"),r.a.createElement(rt,{inverted:!0,onClick:function(){return n.push("/dashboard")}},"BACK")))})))),Pt=n(21),Bt=n.n(Pt),Mt=(n(89),function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(Et.a)({},r,a),n.props.onChange(n.props.index,r,a))},n.state={reps:e.set.reps,weight:e.set.weight},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"workout-set"},r.a.createElement("h3",{className:"set-number"},this.props.index+1),r.a.createElement("div",{className:"set-input"},r.a.createElement(bt,{type:"number",value:this.state.reps,onChange:this.handleChange,name:"reps",label:"Reps"})),"weighted"===this.props.type?r.a.createElement("div",{className:"set-input"},r.a.createElement(bt,{type:"number",value:this.state.weight,onChange:this.handleChange,name:"weight",label:"Weight"})):"")}}]),t}(r.a.Component)),_t=(n(90),function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(Et.a)({},r,a),n.props.onChange(r,a))},n.state={averageHeartRate:e.averageHeartRate,duration:e.duration},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"aerobic-exercise"},r.a.createElement("div",{className:"aerobic-exercise-input"},r.a.createElement(bt,{type:"number",value:this.state.averageHeartRate,onChange:this.handleChange,name:"averageHeartRate",label:"Heart rate"})),r.a.createElement("div",{className:"aerobic-exercise-input"},r.a.createElement(bt,{type:"number",value:this.state.duration,onChange:this.handleChange,name:"duration",label:"Duration"})))}}]),t}(r.a.Component)),Kt=(n(91),function(e){function t(e){var n;return Object(te.a)(this,t),(n=Object(ae.a)(this,Object(re.a)(t).call(this,e))).toggleExpand=function(){n.setState({expanded:!n.state.expanded})},n.updateCompletedSets=function(){var e=0,t=n.state.sets,a=n.props.type;t?t.forEach((function(t){("weighted"===a?t.reps.length&&t.weight.length:t.reps.length)&&e++})):e=0,n.setState(Bt()(n.state,{setsCompleted:{$set:e}}))},n.handleSetChange=function(e,t,a){n.setState(Bt()(n.state,{sets:Object(Et.a)({},e,Object(Et.a)({},t,{$set:a}))}),(function(){n.props.onChange(n.props.id,n.state.sets),n.updateCompletedSets()}))},n.handleAerobicChange=function(e,t){n.setState(Bt()(n.state,Object(Et.a)({},e,{$set:t})),(function(){n.props.onChange(n.props.id,{name:e,value:t})}))},n.state={averageHeartRate:e.averageHeartRate,duration:e.duration,sets:e.sets,expanded:e.expanded,setsCompleted:0},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.updateCompletedSets()}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,a=t.type,c=this.state,o=c.sets,s=c.expanded,i=c.setsCompleted,u=c.averageHeartRate,l=c.duration;return r.a.createElement("div",{className:"workout-exercise"},r.a.createElement("h3",null,n," ",o?"("+i+"/"+o.length+")":""," ",s?r.a.createElement("span",{className:"expand-button",onClick:function(){return e.toggleExpand()}},"\u25bc"):r.a.createElement("span",{className:"expand-button",onClick:function(){return e.toggleExpand()}},"\u25b6")," "),s?o?o.map((function(t,n){return r.a.createElement(Mt,{key:n,index:n,onChange:e.handleSetChange,type:a,set:t})})):r.a.createElement(_t,{onChange:this.handleAerobicChange,averageHeartRate:u,duration:l}):"")}}]),t}(r.a.Component)),zt=Object(ve.a)([function(e){return e.currentWorkout}],(function(e){return e.currentWorkout})),Ht=(n(92),function(e){function t(){var e;return Object(te.a)(this,t),(e=Object(ae.a)(this,Object(re.a)(t).call(this))).tick=function(){var t=e.state.seconds,n=e.state.minutes,a=e.state.hours;t+1>=60?(t=0,n+1>=60?(n=0,a+=1):n+=1):t+=1,e.setState({seconds:t,minutes:n,hours:a})},e.toggleTimer=function(){e.state.timerRunning?clearInterval(e.interval):e.interval=setInterval(e.tick,1e3),e.setState({timerRunning:!e.state.timerRunning})},e.completeWorkout=function(){e.setState({workout:Bt()(e.state.workout,{time:{$set:e.state.minutes}}),completed:!0},(function(){me("workouts",e.state.workout)}))},e.handleExerciseChange=function(t,n){var a=e.state.workout.exercises,r=a.indexOf(a.find((function(e){return e.id===t})));t>800&&t<900?e.setState({workout:Bt()(e.state.workout,{exercises:Object(Et.a)({},r,Object(Et.a)({},n.name,{$set:n.value}))})},(function(){return e.props.updateCurrentWorkout(e.state.workout)})):e.setState({workout:Bt()(e.state.workout,{exercises:Object(Et.a)({},r,{sets:{$set:n}})})},(function(){return e.props.updateCurrentWorkout(e.state.workout)}))},e.state={workout:null,completed:!1,hours:0,minutes:0,seconds:0,timerRunning:!0},e}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.tick,1e3)}},{key:"componentWillUnmount",value:function(){this.props.clearCurrentWorkout(),clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.state,n=t.workout,a=t.completed,c=t.seconds,o=t.minutes,s=t.hours,i=t.timerRunning;return r.a.createElement("div",{className:"workout-in-progress"},r.a.createElement("h1",null,n.workoutName),r.a.createElement("h2",null,"Time elapsed:",r.a.createElement("span",{className:"time"},s<10?"0".concat(s):s,":",o<10?"0".concat(o):o,":",c<10?"0".concat(c):c),r.a.createElement("span",{className:"timer-button",onClick:function(){return e.toggleTimer()}},i?r.a.createElement("span",{className:"pause-button"},"\u275a\u275a"):r.a.createElement("span",{className:"play-button"},"\u25ba"))),n.exercises.map((function(t){var n=t.id,a=Object(be.a)(t,["id"]);return r.a.createElement(Kt,Object.assign({key:n,id:n,onChange:e.handleExerciseChange,expanded:!1},a))})),r.a.createElement("div",{className:"actions"},r.a.createElement(rt,{inverted:!0,onClick:function(){return e.completeWorkout()}},"DONE"),r.a.createElement(rt,{onClick:function(){e.props.clearCurrentWorkout(),e.props.history.push("/start-workout")}},"BACK")),a?r.a.createElement(kt,{workout:n}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.workoutTemplate&&e.currentUser&&e.updateCurrentWorkout&&!t.workout){var n=e.workoutTemplate,a=n.workoutName,r=n.exercises,c=e.updateCurrentWorkout,o=e.currentUser,s={workoutName:a,exercises:r.map((function(e){return"aerobic"===e.type?{id:e.id,name:e.name,type:e.type,averageHeartRate:"",duration:""}:{id:e.id,name:e.name,type:e.type,sets:new Array(e.sets).fill(0).map((function(){return"weighted"===e.type?{reps:"",weight:""}:{reps:""}}))}})),date:new Date,time:0,user:he.doc("/users/".concat(o.id))};return e.currentWorkout?{workout:e.currentWorkout}:(c(s),{workout:s})}return null}}]),t}(r.a.Component)),Ft=Object(oe.g)(Object(i.b)((function(e,t){return{workoutTemplate:(n=t.match.params.templateName,Object(ve.a)([It],(function(e){return e?e.find((function(e){return e.workoutName===n})):null})))(e),currentUser:Ee(e),currentWorkout:zt(e)};var n}),(function(e){return{updateCurrentWorkout:function(t){return e(function(e){return{type:M,payload:e}}(t))},clearCurrentWorkout:function(){return e(gt())}}}))(Ht)),Gt=(n(93),ge(Lt)),qt=ge(Ft),$t=function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},n.unsubscribeFromSnapshot=null,n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this;if(!this.props.currentUser||!this.props.updateTemplates)return null;var t=this.props,n=t.updateTemplates,a=t.currentUser,r=he.collection("workoutTemplates").where("user","==",he.doc("/users/".concat(a.id)));this.unsubscribeFromSnapshot=r.get().then((function(t){var a=de(t);n(a),e.state.loading&&e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.props.match,t=this.state.loading;return r.a.createElement("div",{className:"start-workout"},r.a.createElement(oe.b,{exact:!0,path:"".concat(e.path),render:function(e){return r.a.createElement(Gt,Object.assign({isLoading:t},e))}}),r.a.createElement(oe.b,{exact:!0,path:"".concat(e.path,"/:templateName"),render:function(e){return r.a.createElement(qt,Object.assign({isLoading:t},e))}}))}}]),t}(r.a.Component),Xt=Object(oe.g)(Object(i.b)(null,(function(e){return{updateTemplates:function(t){return e(Ut(t))}}}))($t)),Yt=(n(94),Object(oe.g)(Object(i.b)(null,(function(e){return{clearWorkout:function(){return e(Te())}}}))((function(e){var t=e.currentUser,n=e.history,a=e.clearWorkout;return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"HELLO ".concat(t.displayName.toUpperCase(),"!")),r.a.createElement("h3",null,"A great day for an outdoor run!"),r.a.createElement("div",{className:"action"},r.a.createElement(rt,{onClick:function(){return n.push("/start-workout")}},"START WORKOUT"),r.a.createElement("span",null,"Start one of your saved workouts")),r.a.createElement("span",{className:"or"},"OR"),r.a.createElement("div",{className:"action"},r.a.createElement(rt,{onClick:function(){a(),n.push("/atlas")}},"CREATE WORKOUT"),r.a.createElement("span",null,"Create a new reusable workout template")))))})))),Vt=(n(95),function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).deleteWorkout=function(e){var t;return ee.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=he.doc("/workouts/".concat(e)),a.next=3,ee.a.awrap(t.delete());case 3:n.props.handleWorkoutDelete(e);case 4:case"end":return a.stop()}}))},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.props.workout,n=t.workoutName,a=t.time,c=t.date,o=t.exercises,s=t.id,i=this.props.history;return r.a.createElement("div",{className:"workout-item"},r.a.createElement("h1",null,n),r.a.createElement("span",{className:"workout-item-from"},"from ",c.toDate().toLocaleString().substring(0,c.toDate().toLocaleString().indexOf(","))),r.a.createElement("div",{className:"buttons"},r.a.createElement(rt,{onClick:function(){return i.push("/workouts/".concat(s))}},"DETAILS"),r.a.createElement(rt,{inverted:!0,onClick:function(){return e.deleteWorkout(s)}},"DELETE")),r.a.createElement("div",{className:"details"},r.a.createElement("h3",null,o.find((function(e){return"weighted"===e.type}))?r.a.createElement("span",null,"Weights lifted: ",o.reduce((function(e,t){return"weighted"===t.type?e+t.sets.reduce((function(e,t){return e+parseInt(""!==t.weight?t.weight:0,10)}),0):e}),0)," kg,"):"",r.a.createElement("span",null,"\xa0Duration: ",a," min"))))}}]),t}(r.a.Component)),Jt=Object(oe.g)(Vt),Qt=function(e){return{type:H,payload:e}},Zt=Object(ve.a)([function(e){return e.workouts}],(function(e){return e.workouts})),en=Object(ve.a)([Zt],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),tn=(n(96),function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).deleteWorkout=function(e){n.props.updateWorkouts(n.props.workouts.filter((function(t){return t.id!==e})))},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.workouts,a=t.history;return r.a.createElement("div",{className:"workout-list"},r.a.createElement("h1",null,"Your past workouts"),r.a.createElement("h4",null,"If you made a mistake when entering information, you can always edit past workouts"),n?n.map((function(t){return r.a.createElement(Jt,{key:t.id,workout:t,handleWorkoutDelete:e.deleteWorkout})})):"...",r.a.createElement(rt,{inverted:!0,onClick:function(){return a.push("/dashboard")}},"BACK"))}}]),t}(r.a.Component)),nn=Object(i.b)((function(e){return{workouts:en(e)}}),(function(e){return{updateWorkouts:function(t){return e(Qt(t))}}}))(tn),an=(n(97),function(e){function t(){var e;return Object(te.a)(this,t),(e=Object(ae.a)(this,Object(re.a)(t).call(this))).saveWorkout=function(){var t=e.state.workout;le("workouts",t),e.props.updateWorkoutById(t),e.setState({updated:!0})},e.handleExerciseChange=function(t,n){var a=e.state.workout.exercises,r=a.indexOf(a.find((function(e){return e.id===t})));e.setState({workout:Bt()(e.state.workout,{exercises:Object(Et.a)({},r,{sets:{$set:n}})})})},e.state={updated:!1,workout:null},e}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.workout,a=t.updated;return r.a.createElement("div",{className:"workout-details"},r.a.createElement("h1",null,n?n.workoutName:"..."),n?n.exercises.map((function(t){var n=t.id,a=Object(be.a)(t,["id"]);return r.a.createElement(Kt,Object.assign({key:n,id:n,onChange:e.handleExerciseChange,expanded:!0},a))})):"...",r.a.createElement("div",{className:"actions"},r.a.createElement(rt,{onClick:this.saveWorkout},"SAVE"),r.a.createElement(rt,{inverted:!0,onClick:function(){return e.props.history.goBack()}},"BACK")),a?r.a.createElement(kt,{isCurrent:!1,workout:n}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.workout&&e.updateWorkoutById&&!t.workout?e:null}}]),t}(r.a.Component)),rn=Object(oe.g)(Object(i.b)((function(e,t){return{workout:(n=t.match.params.workoutId,Object(ve.a)([en],(function(e){return e?e.find((function(e){return e.id===n})):null})))(e)};var n}),(function(e){return{updateWorkoutById:function(t){return e(function(e){return{type:F,payload:e}}(t))}}}))(an)),cn=(n(98),ge(nn)),on=ge(rn),sn=function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},n.unsubscribeFromSnapshot=null,n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this;if(!this.props.currentUser||!this.props.updateWorkouts)return null;var t=this.props,n=t.updateWorkouts,a=t.currentUser,r=he.collection("workouts").where("user","==",he.doc("/users/".concat(a.id))).orderBy("date","desc");this.unsubscribeFromSnapshot=r.get().then((function(t){var a=t.docs.map((function(e){var t=e.data(),n=t.workoutName,a=t.date,r=t.time,c=t.exercises,o=t.user;return{id:e.id,workoutName:n,date:a,time:r,exercises:c,user:o}})).reduce((function(e,t){return e[t.id]=t,e}),{});n(a),e.state.loading&&e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.props.match,t=this.state.loading;return r.a.createElement("div",{className:"workouts"},r.a.createElement(oe.b,{exact:!0,path:"".concat(e.url),render:function(e){return r.a.createElement(cn,Object.assign({isLoading:t},e))}}),r.a.createElement(oe.b,{exact:!0,path:"".concat(e.url,"/:workoutId"),render:function(e){return r.a.createElement(on,Object.assign({isLoading:t},e))}}))}}]),t}(r.a.Component),un=Object(i.b)(null,(function(e){return{updateWorkouts:function(t){return e(Qt(t))}}}))(sn),ln=(n(99),function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).deleteTemplate=function(e){var t;return ee.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=he.doc("/workoutTemplates/".concat(e)),a.next=3,ee.a.awrap(t.delete());case 3:n.props.handleTemplateDelete(e);case 4:case"end":return a.stop()}}))},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.workoutName,c=t.exercises,o=t.history,s=t.updateExercises;return r.a.createElement("div",{className:"template-item"},r.a.createElement("h1",null,a||"..."),r.a.createElement("div",{className:"buttons"},r.a.createElement(rt,{onClick:function(){s({id:n,workoutName:a,exercises:c}),o.push("/templates/".concat(a))}},"DETAILS"),r.a.createElement(rt,{inverted:!0,onClick:function(){return e.deleteTemplate(n)}},"DELETE")),r.a.createElement("div",{className:"details"},r.a.createElement("h3",null,"Exercises:",c?" "+c.map((function(e){return" "+e.name})):"...")))}}]),t}(r.a.Component)),mn=Object(oe.g)(Object(i.b)(null,(function(e){return{updateExercises:function(t){return e(Ae(t))}}}))(ln)),dn=(n(100),function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).deleteTemplate=function(e){n.props.updateTemplates(n.props.workoutTemplates.filter((function(t){return t.id!==e})))},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.workoutTemplates,a=t.history;return r.a.createElement("div",{className:"templates-overview"},r.a.createElement("h1",null,"Manage your workout templates"),r.a.createElement("h4",null,"Here you can adjust or delete your workout templates"),n?n.map((function(t){var n=t.id,a=Object(be.a)(t,["id"]);return r.a.createElement(mn,Object.assign({key:n,id:n},a,{handleTemplateDelete:e.deleteTemplate}))})):"...",r.a.createElement(rt,{inverted:!0,onClick:function(){return a.push("/dashboard")}},"BACK"))}}]),t}(r.a.Component)),pn=Object(i.b)((function(e){return{workoutTemplates:It(e)}}),(function(e){return{updateTemplates:function(t){return e(Ut(t))}}}))(dn),hn=(n(101),ge(pn)),fn=ge(yt),vn=function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},n.unsubscribeFromSnapshot=null,n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this;if(!this.props.currentUser||!this.props.updateTemplates)return null;var t=this.props,n=t.updateTemplates,a=t.currentUser,r=he.collection("workoutTemplates").where("user","==",he.doc("/users/".concat(a.id)));this.unsubscribeFromSnapshot=r.get().then((function(t){var a=de(t);n(a),e.state.loading&&e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.props.match,t=this.state.loading;return r.a.createElement("div",{className:"templates"},r.a.createElement(oe.b,{exact:!0,path:"".concat(e.path),render:function(e){return r.a.createElement(hn,Object.assign({isLoading:t},e))}}),r.a.createElement(oe.b,{exact:!0,path:"".concat(e.path,"/:templateName"),render:function(e){return r.a.createElement(fn,Object.assign({isLoading:t},e))}}))}}]),t}(r.a.Component),En=Object(oe.g)(Object(i.b)(null,(function(e){return{updateTemplates:function(t){return e(Ut(t))}}}))(vn)),bn=ge(Yt),gn=ge(Wt),kn=ge(lt),wn=function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,signInLoading:!1,currentUser:null},n.unsubscribeFromAuth=null,n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=pe.onAuthStateChanged((function(t){return ee.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}return n.next=3,ee.a.awrap(ue(t));case 3:n.sent.onSnapshot((function(t){e(Object(f.a)({id:t.id},t.data()))}));case 5:e(t);case 6:case"end":return n.stop()}}))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"loadSignIn",value:function(e){this.setState({signInLoading:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,a=t.currentUser,c=t.signInLoading;return r.a.createElement("div",null,r.a.createElement(ut,null),r.a.createElement(oe.d,null,r.a.createElement(oe.b,{exact:!0,path:"/",render:function(){return e.props.currentUser?r.a.createElement(oe.a,{to:"/dashboard"}):r.a.createElement(kn,{isLoading:e.props.currentUser})}}),r.a.createElement(oe.b,{exact:!0,path:"/dashboard",component:function(e){return r.a.createElement(bn,Object.assign({isLoading:n,currentUser:a},e))}}),r.a.createElement(oe.b,{path:"/atlas",render:function(e){return r.a.createElement(St,Object.assign({currentUser:a},e))}}),r.a.createElement(oe.b,{exact:!0,path:"/sign-in",render:function(){return e.props.currentUser?r.a.createElement(oe.a,{to:"/dashboard"}):r.a.createElement(gn,{isLoading:c,signingIn:function(t){return e.loadSignIn(t)}})}}),r.a.createElement(oe.b,{path:"/start-workout",render:function(e){return r.a.createElement(Xt,Object.assign({currentUser:a},e))}}),r.a.createElement(oe.b,{path:"/workouts",render:function(e){return r.a.createElement(un,Object.assign({currentUser:a},e))}}),r.a.createElement(oe.b,{path:"/templates",render:function(e){return r.a.createElement(En,Object.assign({currentUser:a},e))}})))}}],[{key:"getDerivedStateFromProps",value:function(e){return e.currentUser&&e.currentUser.displayName?Object(f.a)({},e,{loading:!1}):null}}]),t}(r.a.Component),On=Object(i.b)((function(e){return{currentUser:Ee(e)}}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:v,payload:e}}(t))}}}))(wn),yn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function jn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(i.a,{store:J},r.a.createElement(s.a,null,r.a.createElement(u.a,{persistor:Q},r.a.createElement(On,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");yn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):jn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):jn(t,e)}))}}()}]),[[45,1,2]]]);
//# sourceMappingURL=main.22737741.chunk.js.map